/*!common/widgets/recommend/main.js*/
;define("common/widgets/recommend/main",["require","exports","module"],function(){function c(c,a){a.on("click",function(){var h=$(this);c.hasClass("hide-recom")?(c.removeClass("hide-recom"),a.html("收起<i></i>"),h.find("i").addClass("i-up"),document.body.scrollTop=document.body.scrollHeight):(c.addClass("hide-recom"),a.html("展开<i></i>"),h.find("i").removeClass("i-up"))})}c($(".popular_recom"),$(".expansion"))});
/*!dep/jquery-qrcode/jquery.qrcode.min.js*/
;define("dep/jquery-qrcode/jquery.qrcode.min",["require","exports","module"],function(){!function(r){r.fn.qrcode=function(a){function u(a){this.mode=s,this.data=a}function o(a,h){this.typeNumber=a,this.errorCorrectLevel=h,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function q(a,h){if(void 0==a.length)throw Error(a.length+"/"+h);for(var d=0;d<a.length&&0==a[d];)d++;this.num=Array(a.length-d+h);for(var g=0;g<a.length-d;g++)this.num[g]=a[g+d]}function p(a,h){this.totalCount=a,this.dataCount=h}function t(){this.buffer=[],this.length=0}var s;u.prototype={getLength:function(){return this.data.length},write:function(a){for(var h=0;h<this.data.length;h++)a.put(this.data.charCodeAt(h),8)}},o.prototype={addData:function(a){this.dataList.push(new u(a)),this.dataCache=null},isDark:function(a,h){if(0>a||this.moduleCount<=a||0>h||this.moduleCount<=h)throw Error(a+","+h);return this.modules[a][h]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var a=1,a=1;40>a;a++){for(var g=p.getRSBlocks(a,this.errorCorrectLevel),d=new t,c=0,e=0;e<g.length;e++)c+=g[e].dataCount;for(e=0;e<this.dataList.length;e++)g=this.dataList[e],d.put(g.mode,4),d.put(g.getLength(),h.getLengthInBits(g.mode,a)),g.write(d);if(d.getLengthInBits()<=8*c)break}this.typeNumber=a}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,h){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=Array(this.moduleCount);for(var g=0;g<this.moduleCount;g++)this.modules[d][g]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,h),7<=this.typeNumber&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=o.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,h)},setupPositionProbePattern:function(a,h){for(var d=-1;7>=d;d++)if(!(-1>=a+d||this.moduleCount<=a+d))for(var g=-1;7>=g;g++)-1>=h+g||this.moduleCount<=h+g||(this.modules[a+d][h+g]=d>=0&&6>=d&&(0==g||6==g)||g>=0&&6>=g&&(0==d||6==d)||d>=2&&4>=d&&g>=2&&4>=g?!0:!1)},getBestMaskPattern:function(){for(var a=0,g=0,d=0;8>d;d++){this.makeImpl(!0,d);var c=h.getLostPoint(this);(0==d||a>c)&&(a=c,g=d)}return g},createMovieClip:function(a,h,d){for(a=a.createEmptyMovieClip(h,d),this.make(),h=0;h<this.modules.length;h++)for(var d=1*h,g=0;g<this.modules[h].length;g++){var e=1*g;this.modules[h][g]&&(a.beginFill(0,100),a.moveTo(e,d),a.lineTo(e+1,d),a.lineTo(e+1,d+1),a.lineTo(e,d+1),a.endFill())}return a},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=0==a%2);for(a=8;a<this.moduleCount-8;a++)null==this.modules[6][a]&&(this.modules[6][a]=0==a%2)},setupPositionAdjustPattern:function(){for(var a=h.getPatternPosition(this.typeNumber),g=0;g<a.length;g++)for(var d=0;d<a.length;d++){var c=a[g],e=a[d];if(null==this.modules[c][e])for(var f=-2;2>=f;f++)for(var i=-2;2>=i;i++)this.modules[c+f][e+i]=-2==f||2==f||-2==i||2==i||0==f&&0==i?!0:!1}},setupTypeNumber:function(a){for(var g=h.getBCHTypeNumber(this.typeNumber),d=0;18>d;d++){var c=!a&&1==(g>>d&1);this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=c}for(d=0;18>d;d++)c=!a&&1==(g>>d&1),this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=c},setupTypeInfo:function(a,g){for(var d=h.getBCHTypeInfo(this.errorCorrectLevel<<3|g),c=0;15>c;c++){var e=!a&&1==(d>>c&1);6>c?this.modules[c][8]=e:8>c?this.modules[c+1][8]=e:this.modules[this.moduleCount-15+c][8]=e}for(c=0;15>c;c++)e=!a&&1==(d>>c&1),8>c?this.modules[8][this.moduleCount-c-1]=e:9>c?this.modules[8][15-c-1+1]=e:this.modules[8][15-c-1]=e;this.modules[this.moduleCount-8][8]=!a},mapData:function(a,g){for(var d=-1,c=this.moduleCount-1,e=7,f=0,i=this.moduleCount-1;i>0;i-=2)for(6==i&&i--;;){for(var C=0;2>C;C++)if(null==this.modules[c][i-C]){var n=!1;f<a.length&&(n=1==(a[f]>>>e&1)),h.getMask(g,c,i-C)&&(n=!n),this.modules[c][i-C]=n,e--,-1==e&&(f++,e=7)}if(c+=d,0>c||this.moduleCount<=c){c-=d,d=-d;break}}}},o.PAD0=236,o.PAD1=17,o.createData=function(a,g,d){for(var g=p.getRSBlocks(a,g),c=new t,e=0;e<d.length;e++){var f=d[e];c.put(f.mode,4),c.put(f.getLength(),h.getLengthInBits(f.mode,a)),f.write(c)}for(e=a=0;e<g.length;e++)a+=g[e].dataCount;if(c.getLengthInBits()>8*a)throw Error("code length overflow. ("+c.getLengthInBits()+">"+8*a+")");for(c.getLengthInBits()+4<=8*a&&c.put(0,4);0!=c.getLengthInBits()%8;)c.putBit(!1);for(;!(c.getLengthInBits()>=8*a)&&(c.put(o.PAD0,8),!(c.getLengthInBits()>=8*a));)c.put(o.PAD1,8);return o.createBytes(c,g)},o.createBytes=function(a,g){for(var d=0,c=0,e=0,f=Array(g.length),i=Array(g.length),C=0;C<g.length;C++){var n=g[C].dataCount,v=g[C].totalCount-n,c=Math.max(c,n),e=Math.max(e,v);f[C]=Array(n);for(var L=0;L<f[C].length;L++)f[C][L]=255&a.buffer[L+d];for(d+=n,L=h.getErrorCorrectPolynomial(v),n=new q(f[C],L.getLength()-1).mod(L),i[C]=Array(L.getLength()-1),L=0;L<i[C].length;L++)v=L+n.getLength()-i[C].length,i[C][L]=v>=0?n.get(v):0}for(L=C=0;L<g.length;L++)C+=g[L].totalCount;for(d=Array(C),L=n=0;c>L;L++)for(C=0;C<g.length;C++)L<f[C].length&&(d[n++]=f[C][L]);for(L=0;e>L;L++)for(C=0;C<g.length;C++)L<i[C].length&&(d[n++]=i[C][L]);return d},s=4;for(var h={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var g=a<<10;0<=h.getBCHDigit(g)-h.getBCHDigit(h.G15);)g^=h.G15<<h.getBCHDigit(g)-h.getBCHDigit(h.G15);return(a<<10|g)^h.G15_MASK},getBCHTypeNumber:function(a){for(var g=a<<12;0<=h.getBCHDigit(g)-h.getBCHDigit(h.G18);)g^=h.G18<<h.getBCHDigit(g)-h.getBCHDigit(h.G18);return a<<12|g},getBCHDigit:function(a){for(var h=0;0!=a;)h++,a>>>=1;return h},getPatternPosition:function(a){return h.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,h,d){switch(a){case 0:return 0==(h+d)%2;case 1:return 0==h%2;case 2:return 0==d%3;case 3:return 0==(h+d)%3;case 4:return 0==(Math.floor(h/2)+Math.floor(d/3))%2;case 5:return 0==h*d%2+h*d%3;case 6:return 0==(h*d%2+h*d%3)%2;case 7:return 0==(h*d%3+(h+d)%2)%2;default:throw Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var h=new q([1],0),d=0;a>d;d++)h=h.multiply(new q([1,l.gexp(d)],0));return h},getLengthInBits:function(a,h){if(h>=1&&10>h)switch(a){case 1:return 10;case 2:return 9;case s:return 8;case 8:return 8;default:throw Error("mode:"+a)}else if(27>h)switch(a){case 1:return 12;case 2:return 11;case s:return 16;case 8:return 10;default:throw Error("mode:"+a)}else{if(!(41>h))throw Error("type:"+h);switch(a){case 1:return 14;case 2:return 13;case s:return 16;case 8:return 12;default:throw Error("mode:"+a)}}},getLostPoint:function(a){for(var h=a.getModuleCount(),d=0,g=0;h>g;g++)for(var e=0;h>e;e++){for(var f=0,i=a.isDark(g,e),c=-1;1>=c;c++)if(!(0>g+c||g+c>=h))for(var C=-1;1>=C;C++)0>e+C||e+C>=h||0==c&&0==C||i==a.isDark(g+c,e+C)&&f++;f>5&&(d+=3+f-5)}for(g=0;h-1>g;g++)for(e=0;h-1>e;e++)f=0,a.isDark(g,e)&&f++,a.isDark(g+1,e)&&f++,a.isDark(g,e+1)&&f++,a.isDark(g+1,e+1)&&f++,(0==f||4==f)&&(d+=3);for(g=0;h>g;g++)for(e=0;h-6>e;e++)a.isDark(g,e)&&!a.isDark(g,e+1)&&a.isDark(g,e+2)&&a.isDark(g,e+3)&&a.isDark(g,e+4)&&!a.isDark(g,e+5)&&a.isDark(g,e+6)&&(d+=40);for(e=0;h>e;e++)for(g=0;h-6>g;g++)a.isDark(g,e)&&!a.isDark(g+1,e)&&a.isDark(g+2,e)&&a.isDark(g+3,e)&&a.isDark(g+4,e)&&!a.isDark(g+5,e)&&a.isDark(g+6,e)&&(d+=40);for(e=f=0;h>e;e++)for(g=0;h>g;g++)a.isDark(g,e)&&f++;return a=Math.abs(100*f/h/h-50)/5,d+10*a}},l={glog:function(a){if(1>a)throw Error("glog("+a+")");return l.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return l.EXP_TABLE[a]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},m=0;8>m;m++)l.EXP_TABLE[m]=1<<m;for(m=8;256>m;m++)l.EXP_TABLE[m]=l.EXP_TABLE[m-4]^l.EXP_TABLE[m-5]^l.EXP_TABLE[m-6]^l.EXP_TABLE[m-8];for(m=0;255>m;m++)l.LOG_TABLE[l.EXP_TABLE[m]]=m;return q.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var h=Array(this.getLength()+a.getLength()-1),d=0;d<this.getLength();d++)for(var g=0;g<a.getLength();g++)h[d+g]^=l.gexp(l.glog(this.get(d))+l.glog(a.get(g)));return new q(h,0)},mod:function(a){if(0>this.getLength()-a.getLength())return this;for(var h=l.glog(this.get(0))-l.glog(a.get(0)),d=Array(this.getLength()),g=0;g<this.getLength();g++)d[g]=this.get(g);for(g=0;g<a.getLength();g++)d[g]^=l.gexp(l.glog(a.get(g))+h);return new q(d,0).mod(a)}},p.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p.getRSBlocks=function(a,h){var d=p.getRsBlockTable(a,h);if(void 0==d)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+h);for(var g=d.length/3,e=[],f=0;g>f;f++)for(var c=d[3*f+0],C=d[3*f+1],v=d[3*f+2],l=0;c>l;l++)e.push(new p(C,v));return e},p.getRsBlockTable=function(a,h){switch(h){case 1:return p.RS_BLOCK_TABLE[4*(a-1)+0];case 0:return p.RS_BLOCK_TABLE[4*(a-1)+1];case 3:return p.RS_BLOCK_TABLE[4*(a-1)+2];case 2:return p.RS_BLOCK_TABLE[4*(a-1)+3]}},t.prototype={get:function(a){return 1==(this.buffer[Math.floor(a/8)]>>>7-a%8&1)},put:function(a,h){for(var d=0;h>d;d++)this.putBit(1==(a>>>h-d-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var h=Math.floor(this.length/8);this.buffer.length<=h&&this.buffer.push(0),a&&(this.buffer[h]|=128>>>this.length%8),this.length++}},"string"==typeof a&&(a={text:a}),a=r.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},a),this.each(function(){var h;if("canvas"==a.render){h=new o(a.typeNumber,a.correctLevel),h.addData(a.text),h.make();var g=document.createElement("canvas");g.width=a.width,g.height=a.height;for(var d=g.getContext("2d"),c=a.width/h.getModuleCount(),e=a.height/h.getModuleCount(),f=0;f<h.getModuleCount();f++)for(var i=0;i<h.getModuleCount();i++){d.fillStyle=h.isDark(f,i)?a.foreground:a.background;var C=Math.ceil((i+1)*c)-Math.floor(i*c),v=Math.ceil((f+1)*c)-Math.floor(f*c);d.fillRect(Math.round(i*c),Math.round(f*e),C,v)}}else for(h=new o(a.typeNumber,a.correctLevel),h.addData(a.text),h.make(),g=r("<table></table>").css("width",a.width+"px").css("height",a.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",a.background),d=a.width/h.getModuleCount(),c=a.height/h.getModuleCount(),e=0;e<h.getModuleCount();e++)for(f=r("<tr></tr>").css("height",c+"px").appendTo(g),i=0;i<h.getModuleCount();i++)r("<td></td>").css("width",d+"px").css("background-color",h.isDark(e,i)?a.foreground:a.background).appendTo(f);h=g,jQuery(h).appendTo(this)})}}(jQuery)});
/*!job-detail/modules/event/activity1212-v2/main.js*/
;define("job-detail/modules/event/activity1212-v2/main",["require","exports","module","dep/jquery-qrcode/jquery.qrcode.min"],function(require){if(require("dep/jquery-qrcode/jquery.qrcode.min"),$("#activityErmaBody").size()>0){var a=$('<a href="https://activity.lagou.com/activity/dist/emAwardCreate/m_index.html?emc='+$("#activityCompanyId").val()+'&gzpx2016_fr=qrcode_jd"></a>').prop("href");$("#activityErma").qrcode({width:146,height:146,text:a,correctLevel:1})}});
/*!common/widgets/login_toolbar/main.js*/
;define("common/widgets/login_toolbar/main",["require","exports","module"],function(){function a(o,n){if(navigator.userAgent.indexOf("Firefox")>0)$("#loginToolBar ."+o).html(n);else for(var a=$("#loginToolBar ."+o+" i"),c=String(n).length,i=0;c>i;i++){0!=i&&c%3==i%3&&c>3&&$("#loginToolBar ."+o).append("<b></b>"),a.length<=i&&$("#loginToolBar ."+o).append("<i></i>");var g=String(n).charAt(i),b=30*-parseInt(g),v=$("#loginToolBar ."+o+" i").eq(i);v.animate({backgroundPositionY:String(b)+"px"},"3000","swing",function(){})}}var c=$("#cc").val(),g=$("#cp").val();if(a("companycount",c),a("positioncount",g),$("#loginToolBar").size()>0){var b=function(){var a=$(window).scrollTop(),c=$(document).height(),g=$(window).height();if(a+g>=c-68){var b=68-(c-a-g);$("#loginToolBar").css("bottom",b);var v=140+b;$("#backtop").css("bottom",v);var w=80+b;$("#product-fk").css("bottom",w);var T=80+b;$("#feedback-con").css("bottom",T)}else $("#loginToolBar").css("bottom",0),$("#backtop").css("bottom",140),$("#product-fk").css("bottom",80),$("#feedback-con").css("bottom",80)};$(window).scroll(b),$(window).resize(b)}});
/*!dep/jquery-validation/dist/jquery.validate.js*/
;!function(a){"function"==typeof define&&define.amd?define("dep/jquery-validation/dist/jquery.validate",["jquery"],a):a(jQuery)}(function(a){a.extend(a.fn,{validate:function(h){if(!this.length)return void(h&&h.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(h,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.on("click.validate",":submit",function(h){c.settings.submitHandler&&(c.submitButton=h.target),a(this).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(this).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.on("submit.validate",function(h){function g(){var g,v;return c.settings.submitHandler?(c.submitButton&&(g=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),v=c.settings.submitHandler.call(c,c.currentForm,h),c.submitButton&&g.remove(),void 0!==v?v:!1):!0}return c.settings.debug&&h.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,g()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):g():(c.focusInvalid(),!1)})),c)},valid:function(){var h,c,g;return a(this[0]).is("form")?h=this.validate().form():(g=[],h=!0,c=a(this[0].form).validate(),this.each(function(){h=c.element(this)&&h,g=g.concat(c.errorList)}),c.errorList=g),h},rules:function(h,c){var g,v,b,y,C,w,L=this[0];if(h)switch(g=a.data(L.form,"validator").settings,v=g.rules,b=a.validator.staticRules(L),h){case"add":a.extend(b,a.validator.normalizeRule(c)),delete b.messages,v[L.name]=b,c.messages&&(g.messages[L.name]=a.extend(g.messages[L.name],c.messages));break;case"remove":return c?(w={},a.each(c.split(/\s/),function(h,c){w[c]=b[c],delete b[c],"required"===c&&a(L).removeAttr("aria-required")}),w):(delete v[L.name],b)}return y=a.validator.normalizeRules(a.extend({},a.validator.classRules(L),a.validator.attributeRules(L),a.validator.dataRules(L),a.validator.staticRules(L)),L),y.required&&(C=y.required,delete y.required,y=a.extend({required:C},y),a(L).attr("aria-required","true")),y.remote&&(C=y.remote,delete y.remote,y=a.extend(y,{remote:C})),y}}),a.extend(a.expr[":"],{blank:function(h){return!a.trim(""+a(h).val())},filled:function(h){return!!a.trim(""+a(h).val())},unchecked:function(h){return!a(h).prop("checked")}}),a.validator=function(h,c){this.settings=a.extend(!0,{},a.validator.defaults,h),this.currentForm=c,this.init()},a.validator.format=function(h,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(h),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(i,n){h=h.replace(new RegExp("\\{"+i+"\\}","g"),function(){return n})}),h)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(a)))},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(h,c){var g=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===c.which&&""===this.elementValue(h)||-1!==a.inArray(c.keyCode,g)||(h.name in this.submitted||h===this.lastElement)&&this.element(h)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(h,c,g){"radio"===h.type?this.findByName(h.name).addClass(c).removeClass(g):a(h).addClass(c).removeClass(g)},unhighlight:function(h,c,g){"radio"===h.type?this.findByName(h.name).removeClass(c).addClass(g):a(h).removeClass(c).addClass(g)}},setDefaults:function(h){a.extend(a.validator.defaults,h)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function h(h){var c=a.data(this.form,"validator"),g="on"+h.type.replace(/^validate/,""),v=c.settings;v[g]&&!a(this).is(v.ignore)&&v[g].call(c,this,h)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c,g=this.groups={};a.each(this.settings.groups,function(h,c){"string"==typeof c&&(c=c.split(/\s/)),a.each(c,function(a,c){g[c]=h})}),c=this.settings.rules,a.each(c,function(h,g){c[h]=a.validator.normalizeRule(g)}),a(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",h).on("click.validate","select, option, [type='radio'], [type='checkbox']",h),this.settings.invalidHandler&&a(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),a(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var i=0,a=this.currentElements=this.elements();a[i];i++)this.check(a[i]);return this.valid()},element:function(h){var c=this.clean(h),g=this.validationTargetFor(c),v=!0;return this.lastElement=g,void 0===g?delete this.invalid[c.name]:(this.prepareElement(g),this.currentElements=a(g),v=this.check(g)!==!1,v?delete this.invalid[g.name]:this.invalid[g.name]=!0),a(h).attr("aria-invalid",!v),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),v},showErrors:function(h){if(h){a.extend(this.errorMap,h),this.errorList=[];for(var c in h)this.errorList.push({message:h[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in h)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var i,h=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(i=0;h[i];i++)this.settings.unhighlight.call(this,h[i],this.settings.errorClass,"");else h.removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var i,h=0;for(i in a)h++;return h},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(a){a.not(this.containers).text(""),this.addWrapper(a).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var h=this.lastActive;return h&&1===a.grep(this.errorList,function(n){return n.element.name===h.name}).length&&h},elements:function(){var h=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&h.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!h.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(h){return a(h)[0]},errors:function(){var h=this.settings.errorClass.split(" ").join(".");return a(this.settings.errorElement+"."+h,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(h){var c,g=a(h),v=h.type;return"radio"===v||"checkbox"===v?this.findByName(h.name).filter(":checked").val():"number"===v&&"undefined"!=typeof h.validity?h.validity.badInput?!1:g.val():(c=g.val(),"string"==typeof c?c.replace(/\r/g,""):c)},check:function(h){h=this.validationTargetFor(this.clean(h));var c,g,v,b=a(h).rules(),y=a.map(b,function(n,i){return i}).length,C=!1,w=this.elementValue(h);for(g in b){v={method:g,parameters:b[g]};try{if(c=a.validator.methods[g].call(this,w,h,v.parameters),"dependency-mismatch"===c&&1===y){C=!0;continue}if(C=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(h)));if(!c)return this.formatAndAdd(h,v),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+h.id+", check the '"+v.method+"' method.",e),e instanceof TypeError&&(e.message+=".  Exception occurred when checking element "+h.id+", check the '"+v.method+"' method."),e}}if(!C)return this.objectLength(b)&&this.successList.push(h),!0},customDataMessage:function(h,c){return a(h).data("msg"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase())||a(h).data("msg")},customMessage:function(a,h){var m=this.settings.messages[a];return m&&(m.constructor===String?m:m[h])},findDefined:function(){for(var i=0;i<arguments.length;i++)if(void 0!==arguments[i])return arguments[i];return void 0},defaultMessage:function(h,c){return this.findDefined(this.customMessage(h.name,c),this.customDataMessage(h,c),!this.settings.ignoreTitle&&h.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+h.name+"</strong>")},formatAndAdd:function(h,c){var g=this.defaultMessage(h,c.method),v=/\$?\{(\d+)\}/g;"function"==typeof g?g=g.call(this,c.parameters,h):v.test(g)&&(g=a.validator.format(g.replace(v,"{$1}"),c.parameters)),this.errorList.push({message:g,element:h,method:c.method}),this.errorMap[h.name]=g,this.submitted[h.name]=g},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var i,a,h;for(i=0;this.errorList[i];i++)h=this.errorList[i],this.settings.highlight&&this.settings.highlight.call(this,h.element,this.settings.errorClass,this.settings.validClass),this.showLabel(h.element,h.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(i=0;this.successList[i];i++)this.showLabel(this.successList[i]);if(this.settings.unhighlight)for(i=0,a=this.validElements();a[i];i++)this.settings.unhighlight.call(this,a[i],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(h,c){var g,v,b,y=this.errorsFor(h),C=this.idOrName(h),w=a(h).attr("aria-describedby");y.length?(y.removeClass(this.settings.validClass).addClass(this.settings.errorClass),y.html(c)):(y=a("<"+this.settings.errorElement+">").attr("id",C+"-error").addClass(this.settings.errorClass).html(c||""),g=y,this.settings.wrapper&&(g=y.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(g):this.settings.errorPlacement?this.settings.errorPlacement(g,a(h)):g.insertAfter(h),y.is("label")?y.attr("for",C):0===y.parents("label[for='"+C+"']").length&&(b=y.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),w?w.match(new RegExp("\\b"+b+"\\b"))||(w+=" "+b):w=b,a(h).attr("aria-describedby",w),v=this.groups[h.name],v&&a.each(this.groups,function(h,c){c===v&&a("[name='"+h+"']",this.currentForm).attr("aria-describedby",y.attr("id"))}))),!c&&this.settings.success&&(y.text(""),"string"==typeof this.settings.success?y.addClass(this.settings.success):this.settings.success(y,h)),this.toShow=this.toShow.add(y)},errorsFor:function(h){var c=this.idOrName(h),g=a(h).attr("aria-describedby"),v="label[for='"+c+"'], label[for='"+c+"'] *";return g&&(v=v+", #"+g.replace(/\s+/g,", #")),this.errors().filter(v)},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(h){return this.checkable(h)&&(h=this.findByName(h.name)),a(h).not(this.settings.ignore)[0]},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(h){return a(this.currentForm).find("[name='"+h+"']")},getLength:function(h,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return h.length},depend:function(a,h){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,h):!0},dependTypes:{"boolean":function(a){return a},string:function(h,c){return!!a(h,c.form).length},"function":function(a,h){return a(h)}},optional:function(h){var c=this.elementValue(h);return!a.validator.methods.required.call(this,c,h)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(h,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[h.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(h){return a.data(h,"previousValue")||a.data(h,"previousValue",{old:null,valid:!0,message:this.defaultMessage(h,"remote")})},destroy:function(){this.resetForm(),a(this.currentForm).off(".validate").removeData("validator")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(h,c){h.constructor===String?this.classRuleSettings[h]=c:a.extend(this.classRuleSettings,h)},classRules:function(h){var c={},g=a(h).attr("class");return g&&a.each(g.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},normalizeAttributeRule:function(a,h,c,g){/min|max/.test(c)&&(null===h||/number|range|text/.test(h))&&(g=Number(g),isNaN(g)&&(g=void 0)),g||0===g?a[c]=g:h===c&&"range"!==h&&(a[c]=!0)},attributeRules:function(h){var c,g,v={},b=a(h),y=h.getAttribute("type");for(c in a.validator.methods)"required"===c?(g=h.getAttribute(c),""===g&&(g=!0),g=!!g):g=b.attr(c),this.normalizeAttributeRule(v,y,c,g);return v.maxlength&&/-1|2147483647|524288/.test(v.maxlength)&&delete v.maxlength,v},dataRules:function(h){var c,g,v={},b=a(h),y=h.getAttribute("type");for(c in a.validator.methods)g=b.data("rule"+c.charAt(0).toUpperCase()+c.substring(1).toLowerCase()),this.normalizeAttributeRule(v,y,c,g);return v},staticRules:function(h){var c={},g=a.data(h.form,"validator");return g.settings.rules&&(c=a.validator.normalizeRule(g.settings.rules[h.name])||{}),c},normalizeRules:function(h,c){return a.each(h,function(g,v){if(v===!1)return void delete h[g];if(v.param||v.depends){var b=!0;switch(typeof v.depends){case"string":b=!!a(v.depends,c.form).length;break;case"function":b=v.depends.call(c,c)}b?h[g]=void 0!==v.param?v.param:!0:delete h[g]}}),a.each(h,function(g,v){h[g]=a.isFunction(v)?v(c):v}),a.each(["minlength","maxlength"],function(){h[this]&&(h[this]=Number(h[this]))}),a.each(["rangelength","range"],function(){var c;h[this]&&(a.isArray(h[this])?h[this]=[Number(h[this][0]),Number(h[this][1])]:"string"==typeof h[this]&&(c=h[this].replace(/[\[\]]/g,"").split(/[\s,]+/),h[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(null!=h.min&&null!=h.max&&(h.range=[h.min,h.max],delete h.min,delete h.max),null!=h.minlength&&null!=h.maxlength&&(h.rangelength=[h.minlength,h.maxlength],delete h.minlength,delete h.maxlength)),h},normalizeRule:function(h){if("string"==typeof h){var c={};a.each(h.split(/\s/),function(){c[this]=!0}),h=c}return h},addMethod:function(h,c,g){a.validator.methods[h]=c,a.validator.messages[h]=void 0!==g?g:a.validator.messages[h],c.length<3&&a.validator.addClassRules(h,a.validator.normalizeRule(h))},methods:{required:function(h,c,g){if(!this.depend(g,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var v=a(c).val();return v&&v.length>0}return this.checkable(c)?this.getLength(h,c)>0:h.length>0},email:function(a,h){return this.optional(h)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(a)},url:function(a,h){return this.optional(h)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(a)},date:function(a,h){return this.optional(h)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,h){return this.optional(h)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(a)},number:function(a,h){return this.optional(h)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,h){return this.optional(h)||/^\d+$/.test(a)},creditcard:function(a,h){if(this.optional(h))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var n,c,g=0,v=0,b=!1;if(a=a.replace(/\D/g,""),a.length<13||a.length>19)return!1;for(n=a.length-1;n>=0;n--)c=a.charAt(n),v=parseInt(c,10),b&&(v*=2)>9&&(v-=9),g+=v,b=!b;return g%10===0},minlength:function(h,c,g){var v=a.isArray(h)?h.length:this.getLength(h,c);return this.optional(c)||v>=g},maxlength:function(h,c,g){var v=a.isArray(h)?h.length:this.getLength(h,c);return this.optional(c)||g>=v},rangelength:function(h,c,g){var v=a.isArray(h)?h.length:this.getLength(h,c);return this.optional(c)||v>=g[0]&&v<=g[1]},min:function(a,h,c){return this.optional(h)||a>=c},max:function(a,h,c){return this.optional(h)||c>=a},range:function(a,h,c){return this.optional(h)||a>=c[0]&&a<=c[1]},equalTo:function(h,c,g){var v=a(g);return this.settings.onfocusout&&v.off(".validate-equalTo").on("blur.validate-equalTo",function(){a(c).valid()}),h===v.val()},remote:function(h,c,g){if(this.optional(c))return"dependency-mismatch";var v,b,y=this.previousValue(c);return this.settings.messages[c.name]||(this.settings.messages[c.name]={}),y.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=y.message,g="string"==typeof g&&{url:g}||g,y.old===h?y.valid:(y.old=h,v=this,this.startRequest(c),b={},b[c.name]=h,a.ajax(a.extend(!0,{mode:"abort",port:"validate"+c.name,dataType:"json",data:b,context:v.currentForm,success:function(g){var b,C,w,L=g===!0||"true"===g;v.settings.messages[c.name].remote=y.originalMessage,L?(w=v.formSubmitted,v.prepareElement(c),v.formSubmitted=w,v.successList.push(c),delete v.invalid[c.name],v.showErrors()):(b={},C=g||v.defaultMessage(c,"remote"),b[c.name]=y.message=a.isFunction(C)?C(h):C,v.invalid[c.name]=!0,v.showErrors(b)),y.valid=L,v.stopRequest(c,L)}},g)),"pending")}}});var h,c={};a.ajaxPrefilter?a.ajaxPrefilter(function(a,h,g){var port=a.port;"abort"===a.mode&&(c[port]&&c[port].abort(),c[port]=g)}):(h=a.ajax,a.ajax=function(g){var v=("mode"in g?g:a.ajaxSettings).mode,port=("port"in g?g:a.ajaxSettings).port;return"abort"===v?(c[port]&&c[port].abort(),c[port]=h.apply(this,arguments),c[port]):h.apply(this,arguments)})});
/*!common/components/validate/additional-methods.js*/
;define("common/components/validate/additional-methods",["require","exports","module","dep/jquery-validation/dist/jquery.validate"],function(require){require("dep/jquery-validation/dist/jquery.validate"),$.validator.defaults.errorElement="span",$.validator.defaults.ignore="",$.validator.defaults.onfocusout=function(F){("TEXTAREA"===F.tagName||"INPUT"===F.tagName&&"password"!==F.type)&&(F.value=$.trim(F.value)),this.checkable(F)||!(F.name in this.submitted)&&this.optional(F)||this.element(F)},jQuery.validator.addMethod("truename",function(F,a){var D=/^([a-zA-Z ]+|[\u4e00-\u9fa5]+)$/;return this.optional(a)||D.test(F)},"请输入有效的公司简称"),jQuery.validator.addMethod("specialchar",function(F,a){F=$.trim(F);var D=/^([\u4e00-\u9fa5a-zA-Z0-9])/;return this.optional(a)||D.test(F)},"请输入有效的公司简称"),jQuery.validator.addMethod("newSpecialChar",function(F,a){var D=new RegExp("[`~!@$^&*()=|{}'·:;',\\[\\]<>/?~！@￥……&*（）——|{}【】‘；：”“'。，、？]");return this.optional(a)||!D.test(F)},"请输入有效的公司简称"),$.validator.addMethod("maxLen",function(F,a,D){var h=$.trim($(a).val());return this.optional(a)||h.length<=D}),$.validator.addMethod("txtMaxLength",function(F,a,D){var h=$("<div></div>").html($(a).val()),v=h.text();return this.optional(a)||v.length<=D}),jQuery.validator.addMethod("positionspecialchar",function(F,a){var D=/^([·`~!@$^&':;,?~！……&；：。，、？=])/;return this.optional(a)||!D.test(F)},"请输入有效的公司简称"),jQuery.validator.addMethod("ievaluean",function(F,a){var D=new RegExp("15字以内对面试的简单描述哦");return this.optional(a)||!D.test(F)},"请填写短评"),jQuery.validator.addMethod("checkCity",function(F,a){var D=/^[\u4e00-\u9fa5]{0,}$/;return this.optional(a)||D.test(F)},"请输入有效的公司所在城市，如：北京"),jQuery.validator.addMethod("checkNum",function(F,a){var D=/^[0-9]*$/;return this.optional(a)||!D.test(F)},"请输入有效的一句话介绍"),jQuery.validator.addMethod("checkUrl",function(F,a){F=$.trim(F);var D=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;return F!=$(a).attr("placeholder")?("http://"!=F.substring(0,7)&&"https://"!=F.substring(0,8)&&(F="http://"+F),this.optional(a)||D.test(F)):!1},"请输入有效的公司网址"),jQuery.validator.addMethod("checkUrlNot",function(F,a){F=$.trim(F);var D=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;return F!=$(a).attr("placeholder")?("http://"!=F.substring(0,7)&&"https://"!=F.substring(0,8)&&(F="http://"+F),this.optional(a)||D.test(F)):!0},"请输入有效的公司网址"),jQuery.validator.addMethod("checkUrlNew",function(F,a){F=$.trim(F);var D=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,h=/\.[\w]+[\u4e00-\u9fa5]+/i;return F!=$(a).attr("placeholder")?("http://"!=F.substring(0,7)&&"https://"!=F.substring(0,8)&&(F="http://"+F),this.optional(a)||!h.test(F)&&D.test(F)):!0},"请输入有效的公司网址"),jQuery.validator.addMethod("rangeLen",function(F,a,D){if(F!=$(a).attr("placeholder")){var h=$.isArray(F)?F.length:this.getLength($.trim(F),a);return this.optional(a)||h>=D[0]&&h<=D[1]}return!1},"请输入有效的范围"),jQuery.validator.addMethod("rangeLenNew",function(F,a,D){var h=$("<div></div>").html($(a).val()),F=h.text();if(F!=$(a).attr("placeholder")){var v=$.isArray(F)?F.length:this.getLength($.trim(F),a);return this.optional(a)||v>=D[0]&&v<=D[1]}return!1},"请输入有效的范围"),jQuery.validator.addMethod("salaryRange",function(){return""!=$("#salaryMin").val()&&$("#salaryMin").val()!=$("#salaryMin").attr("placeholder")&&""!=$("#salaryMax").val()&&$("#salaryMax").val()!=$("#salaryMax").attr("placeholder")&&parseInt($.trim($("#salaryMax").val()))/parseInt($.trim($("#salaryMin").val()))>2?!1:!0},"请输入有效的月薪范围"),jQuery.validator.addMethod("Dvalue",function(){return""!=$("#salaryMin").val()&&$("#salaryMin").val()!=$("#salaryMin").attr("placeholder")&&""!=$("#salaryMax").val()&&$("#salaryMax").val()!=$("#salaryMax").attr("placeholder")?parseInt($.trim($("#salaryMax").val()))>parseInt($.trim($("#salaryMin").val()))?!0:!1:!0},"请输入有效的月薪范围"),jQuery.validator.addMethod("isTel",function(F){for(var a=F.split(","),D=!0,h=/(^[0-9]{3,4}\-[0-9]{7,8}$)|(^[0-9]{7,8}$)|(^[0-9]{3,4}\-[0-9]{7,8}\-[0-9]{3,5}$)|(^[0-9]{7,8}\-[0-9]{3,5}$)|(^\([0-9]{3,4}\)[0-9]{7,8}$)|(^\([0-9]{3,4}\)[0-9]{7,8}\-[0-9]{3,5}$)|(^1[3,4,5,7,8]{1}[0-9]{9}$)/,i=0;i<a.length;i++)h.test(a[i])||(D=!1);return D?!0:!1},"请输入正确的手机号或座机号，座机格式如010-62555255或010-6255255-分机号，多个电话用英文逗号隔开"),jQuery.validator.addMethod("isMobile",function(F){var a=/(^1[3,4,5,7,8]{1}[0-9]{9}$)/;return a.test(F)?!0:!1},"请输入正确的手机号"),jQuery.validator.addMethod("rangeLenStr",function(F,a,D){for(var h=$.trim(F).length,v=0,i=0;h>i;i++)F.charCodeAt(i)<27||F.charCodeAt(i)>126?v+=2:v++;return v<=2*D[1]&&v>=2*D[0]||0==v?!0:!1},"请输入1-40个字符"),jQuery.validator.addMethod("maxlenStr",function(F,a,D){for(var h=F.length,$=0,i=0;h>i;i++)F.charCodeAt(i)<27||F.charCodeAt(i)>126?$+=2:$++;return 2*D>=$?!0:!1},"请输入100字以内的字符"),jQuery.validator.addMethod("moreEmail",function(F){F=F.replace("；",";").split(";"),F=jQuery.grep(F,function(n){return""!==$.trim(n)&&null!=n});var a=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,D=!0;if(F.length>2)D=!1;else for(var i=0;i<F.length;i++)a.test($.trim(F[i]))||(D=!1);return D?!0:!1},"请输入有效的邮件地址，最多2个，并用英文;隔开"),jQuery.validator.addMethod("checkExceptSharp",function(F,a){var D=/^[\u4e00-\u9fa5a\d\w#\'\s]+$/;return this.optional(a)||D.test(F)},'不能输入除去"#"之外的特殊字符'),jQuery.validator.addMethod("tinymceLength",function(F,a,D){var h=$(a),v=$.trim(h.text().replace(/&nbsp;/g,"")),c=getStrLen(v);return this.optional(a)||2*D[0]<=c&&c<=2*D[1]},jQuery.validator.format("请输入长度为 {0} - {1} 的字长")),jQuery.validator.addMethod("checkMoney",function(F,a){var D=/^([1-9]\d*|0)(\.\d{1,2})?$/;return this.optional(a)||D.test(F)},"请输入正确金额")});
/*!common/components/jquery-ajaxfileupload/ajaxfileupload.js*/
;define("common/components/jquery-ajaxfileupload/ajaxfileupload",["require","exports","module"],function(){jQuery.extend({handleError:function(s,a,c,e){s.error&&s.error.call(s.context||s,a,c,e),s.global&&(s.context?jQuery(s.context):jQuery.event).trigger("ajaxError",[a,s,e])},createUploadIframe:function(a,c){var y="jUploadFrame"+a,j='<iframe id="'+y+'" name="'+y+'" style="position:absolute; top:-9999px; left:-9999px"';return window.ActiveXObject&&("boolean"==typeof c?j+=' src="javascript:false"':"string"==typeof c&&(j+=' src="'+c+'"')),j+=" />",jQuery(j).appendTo(document.body),jQuery("#"+y).get(0)},createUploadForm:function(a,c,y){var j="jUploadForm"+a,Q="jUploadFile"+a,v=jQuery('<form  action="" method="POST" name="'+j+'" id="'+j+'" enctype="multipart/form-data"></form>');if(y)for(var i in y)jQuery('<input type="hidden" name="'+i+'" value="'+y[i]+'" />').appendTo(v);var g=jQuery("#"+c),b=jQuery(g).clone();return jQuery(g).attr("id",Q),jQuery(g).before(b),jQuery(g).appendTo(v),jQuery(v).css("position","absolute"),jQuery(v).css("top","-1200px"),jQuery(v).css("left","-1200px"),jQuery(v).appendTo("body"),v},ajaxFileUpload:function(s){s=jQuery.extend({},jQuery.ajaxSettings,s);var a=(new Date).getTime(),c=jQuery.createUploadForm(a,s.fileElementId,"undefined"==typeof s.data?!1:s.data),y=(jQuery.createUploadIframe(a,s.secureuri),"jUploadFrame"+a),j="jUploadForm"+a;s.global&&!jQuery.active++&&jQuery.event.trigger("ajaxStart");var Q=!1,v={};s.global&&jQuery.event.trigger("ajaxSend",[v,s]);var g=function(a){var j=document.getElementById(y);try{j.contentWindow?(v.responseText=j.contentWindow.document.body?j.contentWindow.document.body.innerHTML:null,v.responseXML=j.contentWindow.document.XMLDocument?j.contentWindow.document.XMLDocument:j.contentWindow.document):j.contentDocument&&(v.responseText=j.contentDocument.document.body?j.contentDocument.document.body.innerHTML:null,v.responseXML=j.contentDocument.document.XMLDocument?j.contentDocument.document.XMLDocument:j.contentDocument.document)}catch(e){jQuery.handleError(s,v,null,e)}if(v||"timeout"==a){Q=!0;var g;try{if(g="timeout"!=a?"success":"error","error"!=g){var b=jQuery.uploadHttpData(v,s.dataType);s.success&&s.success(b,g),s.global&&jQuery.event.trigger("ajaxSuccess",[v,s])}else jQuery.handleError(s,v,g)}catch(e){g="error",jQuery.handleError(s,v,g,e)}s.global&&jQuery.event.trigger("ajaxComplete",[v,s]),s.global&&!--jQuery.active&&jQuery.event.trigger("ajaxStop"),s.complete&&s.complete(v,g),jQuery(j).unbind(),setTimeout(function(){try{jQuery(j).remove(),jQuery(c).remove()}catch(e){jQuery.handleError(s,v,null,e)}},100),v=null}};s.timeout>0&&setTimeout(function(){Q||g("timeout")},s.timeout);try{var c=jQuery("#"+j);jQuery(c).attr("action",s.url),jQuery(c).attr("method","POST"),jQuery(c).attr("target",y),c.encoding?jQuery(c).attr("encoding","multipart/form-data"):jQuery(c).attr("enctype","multipart/form-data"),jQuery(c).submit()}catch(e){jQuery.handleError(s,v,null,e)}return jQuery("#"+y).load(g),{abort:function(){}}},uploadHttpData:function(r,a){var c=!a;return c="xml"==a||c?r.responseXML:r.responseText,"script"==a&&jQuery.globalEval(c),"json"==a&&(c=jQuery.parseJSON(jQuery(c).text())),"html"==a&&jQuery("<div>").html(c).evalScripts(),c}})});
/*!job-detail/modules/common/js/validate-custom.js*/
;define("job-detail/modules/common/js/validate-custom",["require","exports","module"],function(){jQuery.validator.addMethod("isMobile",function(a){var c=/(^1[3,4,5,7,8]{1}[0-9]{9}$)/;return c.test(a)?!0:!1},"请输入正确的手机号"),jQuery.validator.addMethod("specialchar",function(a,c){var h=/^([`~!@$^&':;,?~！……&；：。，、？=])/;return this.optional(c)||!h.test(a)},"请输入有效的公司简称"),jQuery.validator.addMethod("checkNum",function(a,c){var h=/^[0-9]*$/;return this.optional(c)||!h.test(a)},"请输入有效的一句话介绍"),jQuery.validator.addMethod("rangeLenStr",function(a,c,h){for(var v=a.length,j=0,i=0;v>i;i++)a.charCodeAt(i)<27||a.charCodeAt(i)>126?j+=2:j++;return j<=2*h[1]&&j>=2*h[0]||0==j?!0:!1},"请输入1-40个字符"),jQuery.validator.addMethod("truename",function(a,c){var h=/^([a-zA-Z ]+|[\u4e00-\u9fa5]+)$/;return this.optional(c)||h.test(a)},"请输入有效的公司简称")});
/*!job-detail/modules/position-head/main.js*/
;define("job-detail/modules/position-head/main",["require","exports","module"],function(){var c="marchActTips",a=$("#lijishoucang");$.cookie(c)&&0==$.cookie(c)||a.show(),$(".march-close").click(function(){a.hide(),$.cookie(c,"0",{expires:365})});var h,v=$("#remindActive").size(),g=251;v&&(g+=104);var k=$(".position-label .labels").size()>0?g+22:g;$(window).on("scroll",function(){if(h=$(this).scrollTop(),h>=k){if($(".ceil-right").find(".jd_collection").size()>0)return;$(".position-deal .resume-deliver").clone(!0).appendTo(".ceil-right"),$(".position-deal .jd_collection").clone(!0).appendTo(".ceil-right"),$(".ceil").slideDown(),$(".position-deal").empty()}else $(".ceil-right").find(".jd_collection").size()>0&&($(".ceil-right .resume-deliver").clone(!0).appendTo(".position-deal"),$(".ceil-right .jd_collection").clone(!0).appendTo(".position-deal"),$(".ceil").slideUp(1),$(".ceil-right").empty())}),$(".resume-select").on("click",".select-radio",function(){var c=$(this);$(".resume-select .select-radio").removeClass("selected"),c.addClass("selected");var a,h=$(".default-resume-data").val(),v=$(".select-radio").hasClass("selected");if(v&&"undefined"==typeof h){a=$(".select-radio.selected").attr("data-type");var g="#setResumeApply .resume"+a;$(g).attr("checked","checked")}})});
/*!job-detail/modules/event/promotion0322/tips.js*/
;define("job-detail/modules/event/promotion0322/tips",["require","exports","module"],function(){if(!$.cookie("enableApplyTips")||0!=$.cookie("enableApplyTips")){var a=$("#serverTime").val();if(a&&$(".btn_apply").size()>0){var c=new Date(parseInt(a)),b=new Date("2016/03/22 00:00:00"),v=new Date("2016/03/22 23:59:59");if(c>=b&&v>=c){var _='<div class="btn_apply_tips" id="btnApplyTips">今日福利：双倍投递次数 = 双倍面试机会<span class="close_btn_apply_tips">close tips</span></div>',y=$(_);y.find(".close_btn_apply_tips").click(function(e){$.cookie("enableApplyTips",0,{expires:1}),$("#btnApplyTips").remove(),e.stopPropagation()}),$(".jd_deliver").append(y)}}}});
/*!job-detail/modules/job-info/main.js*/
;define("job-detail/modules/job-info/main",["require","exports","module","dep/jquery-qrcode/jquery.qrcode.min","dep/artTemplate/dist/template","job-detail/modules/event/promotion0322/tips"],function(require){function a(){$(".jd_share").bind("mouseover",function(){var a=$(this);a.find("span#share_jd").removeClass("dn"),a.addClass("share_hover")}),$(".jd_share").bind("mouseout",function(){var a=$(this);a.find("span#share_jd").addClass("dn"),a.removeClass("share_hover")})}function c(){$(".report_button").removeClass("reported"),$(".report_button").bind("mouseover",function(){var a=$(this);a.addClass("report_hover"),a.find("span#report_jd").removeClass("dn")}),$(".report_button").bind("mouseout",function(){var a=$(this);a.find("span#report_jd").addClass("dn"),a.removeClass("report_hover")})}function h(a,c,h,v){c.off("click"),g(c,v)}function v(a){a.bind("mouseover",function(){var a=$(this),c=a.find("span#collection_jd");a.addClass("collection_hover"),a.hasClass("collected")?(c.text("已收藏"),c.removeClass("dn")):(c.text("收藏职位"),c.removeClass("dn"))}),a.bind("mouseout",function(){var a=$(this);a.find("span#collection_jd").addClass("dn"),a.removeClass("collection_hover")})}function _(a){clearTimeout(N),a.show(),D=!1}function b(a){clearTimeout(N),D=!0,N=setTimeout(function(){j(a)},3e3)}function C(a){clearTimeout(N),D=!0,N=setTimeout(function(){j(a)},500)}function j(a){var c=$(".job-collection");0!=D?(a.hide(),v(c),D=!0):(a.hide(),D=!1)}function g(a,c,j){var g=0,y=$("#jobid").val();if(null==j||void 0==j)var j=$("#resubmitToken").val();{var k=a.children(".jd_collection_success");a.find("span#collection_jd")}g=a.hasClass("collected")?0:1,$.ajax({url:GLOBAL_DOMAIN.ctx+"/mycenter/collectPositoin.json",type:"POST",async:!0,data:{positionId:y,type:g,resubmitToken:j},dataType:"json"}).done(function(c){null!=c.resubmitToken&&""!=c.resubmitToken&&$("#resubmitToken").val(c.resubmitToken),c.success&&(1==c.content.showStts?(a.html('<i class="icon-glyph-hollow-star"> </i>收藏').removeClass("loadingBgColor"),a.removeClass("collection_hover"),a.removeClass("collected"),k.find("span").text("已取消该收藏，"),k.find("a.jd_collection_page").text("查看全部收藏"),k.show(),k.hover(function(){var a=$(this);_(a)},function(){var a=$(this);C(a)}),b(k),A=!1,$(".allmarch_jd_collect .btn_collect").removeClass("disabled").html("立即收藏")):(a.html('<i class="icon-glyph-star"> </i>已收藏').removeClass("loadingBgColor"),a.addClass("collected"),k.find("span").text("已收藏该职位，"),k.find("a.jd_collection_page").text("查看全部收藏"),k.show(),k.hover(function(){var a=$(this);_(a)},function(){var a=$(this);C(a)}),b(k),A=!0,I&&($.colorbox({inline:!0,href:$("#collectSuccess"),title:"收藏成功"}),I=!1),$(".allmarch_jd_collect .btn_collect").addClass("disabled").html("已收藏"))),null==c.content&&(a.removeClass("collection_hover"),alert(c.msg),v(a)),$(".job-collection").on("click",function(e){var a=$(this),c=this;if(a.unbind("mouseover"),a.unbind("mouseout"),!$(".jd_collection").data("isLoading")){var v=$(".jd_collection").html(),_='<div class="loading2"></div>';$(".jd_collection").html(_).addClass("loadingBgColor"),$(".jd_collection").data("isLoading",!0),w(h,[e,a,c,v],null,100)}}),$(".jd_collection_page").on("click",function(e){e.stopPropagation()})}).fail(function(){$(".jd_collection").html(c).removeClass("loadingBgColor"),console.log("fail")}).always(function(){$(".jd_collection").removeData("isLoading")})}function y(a,c){$.ajax({url:GLOBAL_DOMAIN.ctx+"/mycenter/noDisplay.json",type:"POST",data:{positionId:global.positionId,refuseReason:c},dataType:"json"}).done(function(a){if(1==a.state){$(".inviteCancel").fadeOut(200),$(".collection_link").html('<span style="color:#999">已拒绝</span>');var c=parseInt($("#pageNo").val()),h=$(".my_invitation li").length;if(c>1){var v;v=1==h?c-1:c;var _=window.location.href;_=_.substr(0,_.indexOf("=")+1)+v,window.location.href=_}window.location.reload()}else alert(a.message)})}function k(){T()||$("[placeholder]").focus(function(){var a=$(this);a.val()==a.attr("placeholder")&&(a.val(""),a.removeClass("placeholder"))}).blur(function(){var a=$(this);(""==a.val()||a.val()==a.attr("placeholder"))&&(a.addClass("placeholder"),a.val(a.attr("placeholder")))}).blur(),""===$("[placeholder]").value&&($("[placeholder]").value=$("[placeholder]").attr("placeholder"))}function T(){return"placeholder"in document.createElement("input")}function w(a,c,h,v){h=void 0==h?null:h,a.tId&&clearTimeout(a.tId),a.tId=setTimeout(function(){a.apply(h,c)},v?v:100)}require("dep/jquery-qrcode/jquery.qrcode.min");var O=require("dep/artTemplate/dist/template");$(".btn-no-interest").on("click",function(a){a.stopPropagation(),$.colorbox({inline:!0,href:$("div#no_interest"),title:"不感兴趣"})});var L="";$(".invi_info_box").on("click","label",function(){var a=$(this);L=a.text();var c=a.parent().parent().parent().parent();c.find("label").removeClass("seled").addClass("unsel"),c.find("input:radio").attr("checked",!1),a.addClass("seled").removeClass("unsel"),a.prev().attr("checked",!0),""!=c.find(".reason").val()&&c.find("label").removeClass("seled").addClass("unsel"),c.find(".reason").val(""),a.removeClass("unsel").addClass("seled")}),$(".invi_btn_yes").on("click",function(){var a=$(this),c=$(this).parents(".inviteCancel"),h=($("input[name='invinfo']:checked").val(),$(this).parent().parent()),v=$.trim(h.children("input[type='text']").val()),_=v.length+(v.match(/[^\x00-\xff]/g)||"").length;_>16?$(".err_tip").css("visibility","visible"):""!==L?y(c,L,a):y(c,v,a)}),$(".invi_info_box").find(".reason").on("keyup change",function(){var a=($(this),$(this).parents(".inviteCancel"),$(this).parent().parent()),c=$.trim(a.find("input[type='text']").val()),h=c.length+(c.match(/[^\x00-\xff]/g)||"").length;16>=h?$(".err_tip").css("visibility","hidden"):$(".err_tip").css("visibility","visible")}),$(".invi_info_box input[type='text']").focus(function(){{var a=$(this);$(".inviteCancel")}L="",a.parent().find("label").addClass("unsel").removeClass("seled")}),$(".inviteCancel").on("drag",function(e){e.preventDefault()}),$(".invi_info_box").click(function(e){e.stopPropagation()}),$("#container").on("click",".inviteCancel .closetip",function(){$(this).parent("div").fadeOut(200)}),$("body").click(function(){$(".invi_info_box").fadeOut(200)}),$(".jd_share").click(function(c){$(this).unbind("mouseover"),$(this).unbind("mouseout"),$(this).hasClass("share_open")?($(this).removeClass("share_open"),$(this).removeClass("share_click"),$(this).removeClass("share_hover"),a()):($(this).addClass("share_open"),$(this).addClass("share_click"),$(this).find("span#share_jd").addClass("dn")),c.stopPropagation()}),$(".jd_share").bind("mouseover",function(){$(this).find("span#share_jd").removeClass("dn"),$(this).addClass("share_hover")}),$(".jd_share").bind("mouseout",function(){$(this).find("span#share_jd").addClass("dn"),$(this).removeClass("share_hover")}),$(".jd_share_success").click(function(a){a.stopPropagation()}),$("body").click(function(){$(".jd_share").removeClass("share_open"),$(".jd_share").removeClass("share_click"),$(".jd_share").removeClass("share_hover"),a()}),global.haveUSER_CONTEXT&&!global.isActivated?$(".report_button").on("click",function(){$(this).find("span#report_jd").addClass("dn"),$(this).removeClass("report_hover"),$.colorbox({inline:!0,href:$("div#activePop"),title:"邮箱验证"})}):global.haveUSER_CONTEXT&&$(".report_button").on("click",function(){$(this).unbind("mouseover"),$(this).unbind("mouseout"),$(this).find("span#report_jd").addClass("dn"),$(this).removeClass("report_hover"),$(this).addClass("reported");var a=$("#jobid").val();$.ajax({type:"POST",url:GLOBAL_DOMAIN.ctx+"/complaint/isReport.json",datatype:"json",data:{fId:a,fType:2}}).done(function(a){a.success?($("#problem_txt").val(""),$("#problem_txt").attr("placeholder","请您描述问题详情，以便于拉勾网帮您核实情况。"),k(),$("#report_reason").val("请选择举报原因"),$("#report_reason").css("color","#A9A9A9"),$("#report_reason_hidden").val(""),$("#select_box").find("div.reason_content").hide(),$("#report_submit").find("span.error").remove(),$(".reason_content").hide(),$(".report_txt").find("b").text(500),$("#report_reason").css("border-color","#f1f1f1"),$(".report_select").css("border-color","#f1f1f1"),$.colorbox({inline:!0,href:$("div#reportbox"),title:"举报该职位"})):$.colorbox({inline:!0,href:$("div#has_report"),title:"举报该职位"})})}),$(".report_button").bind("mouseover",function(){$(this).addClass("report_hover"),$(this).find("span#report_jd").removeClass("dn")}),$(".report_button").bind("mouseout",function(){$(this).find("span#report_jd").addClass("dn"),$(this).removeClass("report_hover")}),$("body").on("click","#cboxOverlay",function(){c()}),$("body").on("click","#cboxClose",function(){("deliverResumesSuccess"==$(this).siblings("#cboxLoadedContent").children("div").attr("id")||"has_report"==$(this).siblings("#cboxLoadedContent").children("div").attr("id")||"receive_report"==$(this).siblings("#cboxLoadedContent").children("div").attr("id")||"reportbox"==$(this).siblings("#cboxLoadedContent").children("div").attr("id"))&&c()}),$(".report_cancel").click(function(){c()}),$(".jd_collection_x,.jd_collection_close").click(function(){$("#tipOverlay").hide(),$(this).parent(".jd_collection_success").hide();var a=$(this).parents(".jd_collection");return v(a),!1}),$(".jd_collection_tip .jd_collection_tip_x").click(function(){return $("#tipOverlay").hide(),$(this).parent(".jd_collection_tip").hide(),!1});var A=!1,I=!1;$(".jd_collection_page").hover(function(){$(this).addClass("page_underline")},function(){$(this).removeClass("page_underline")}),$(".job-collection").on("click",function(e){if(global.haveUSER_CONTEXT&&!global.isActivated)return $(this).removeClass("collection_hover"),void $.colorbox({inline:!0,href:$("div#activePop"),title:"邮箱验证"});var a=$(this),c=this;if(a.unbind("mouseover"),a.unbind("mouseout"),!$(".jd_collection").data("isLoading")){var v=$(".jd_collection").html(),_='<div class="loading2"></div>';$(".jd_collection").html(_).addClass("loadingBgColor"),$(".jd_collection").data("isLoading",!0),h(e,a,c,v)}}),$(".allmarch_jd_collect .btn_collect").click(function(){return $(this).hasClass("disabled")?!1:(I=!0,void $(".job-collection").trigger("click"))}),$("#collectSuccess .btn").click(function(){$.colorbox.close()}),$("#login_position").click(function(){$(".collect_position").val("collected")}),$("a.jd_collection").hover(function(){var a=$(this).find("span#collection_pos");a.removeClass("dn")},function(){var a=$(this).find("span#collection_pos");a.addClass("dn")});var N=null,D=!0;!function(){var a=window.location.href,re=/(http(s)?\:\/\/)?(www\.)?(\w+\:\d+)?(\/\w+)+\.(html)/gi,c=a.match(re),h=GLOBAL_DOMAIN.ctx+c+"?source=weixin";$("<div class='weixin_img' id='weixin_img_id' />").appendTo(".jd_share_success");var v={width:130,height:130,text:h},_="8.0",b=navigator.userAgent.toLowerCase(),C=b.indexOf("msie")>-1;if(C){var j=b.match(/msie ([\d.]+)/)[1];_>=j&&(v={render:"table",width:130,height:130,text:h})}$("#weixin_img_id").qrcode(v)}(),$(".resume_status_bind").hover(function(){$(this).find("img").attr("src",global.qrImgSrc),$(this).addClass("open")},function(){$(this).removeClass("open")}),require("job-detail/modules/event/promotion0322/tips"),$(".btn_apply").size()>0&&$.ajax({url:GLOBAL_DOMAIN.ctx+"/jobs/getUserDeliverCount.json",type:"POST",dataType:"json"}).done(function(a){if(1==a.state&&$(".btn_apply").size()>0){var c=a.content.data,h=c.hasDeliverToday,v=c.deliverTotalToday,_=$("#serverTime").val();if(!_)return;var b=new Date(parseInt(_)),C=new Date("2016/03/22 00:00:00"),j=new Date("2016/03/22 23:59:59"),g=b>=C&&j>=b?!0:!1,y='<dd class="jd_deliver_tips">\n    <p class="main_tips">\n        今日已投递&nbsp; <em class="delivered_mum">{{deliveredNum}}</em>/<em class="total_num">{{totalNum}}</em>{{if totalNum < 20}}&nbsp; 次&nbsp; <a href="{{FE_base}}/share/inviteJoin.html" target="_blank" data-lg-tj-id="iE00" data-lg-tj-no="idnull" data-lg-tj-cid="idnull">增加次数</a>{{/if}}\n    </p>\n    <p class="sub_tips">\n        {{deliverTips}}\n    </p>\n</dd>\n';O.helper("deliverTips",function(){var a="我和你一样，期待，明天的好消息",c=["多1次睿智的投递，可能就多1次靠谱的面试","你和1次成功面试的距离，也许只差更多1次投递","既然每天投递机会是有限的，说明都用掉是有意义的","有时候，1次不犹豫的投递，恰恰成就了1次超完美的面试","也许你心心念念的好工作，就出现在下1次投递"],$='已为你提升至<em class="raised_num">20</em>次机会';if(h==v)return a;if(g)return $;var _=Math.floor(Math.random()*c.length);return c[_]});{O.compile(y)({deliveredNum:h,totalNum:v,enableActivity:g,cdndomain:window.GLOBAL_CDN_DOMAIN,FE_base:GLOBAL_DOMAIN.ctx})}}}).fail(function(){console.log("load deliver info error")}),$(".data_title i").hover(function(){$(this).parent().siblings(".tip_text").show()},function(){$(this).parent().siblings(".tip_text").hide()})});
/*!job-detail/modules/tips-bottom/main.js*/
;define("job-detail/modules/tips-bottom/main",["require","exports","module","common/widgets/plat/exposure"],function(require){var a=require("common/widgets/plat/exposure").exposure;if($("#paiTipBottom").size()>0){var c=$("#paiTipBottom");sessionStorage.banJDPaiTipBottom&&"0"!=sessionStorage.banJDPaiTipBottom||c.show();var g=c.find(".btn_close");g.on("click",function(){c.hide(),sessionStorage.banJDPaiTipBottom=1});var B=$("#paiTipBottom");a([[B.attr("data-lg-tj-id"),B.attr("data-lg-tj-no"),B.attr("data-lg-tj-cid")]],"t")}if($("#plusTipBottom").size()>0){var T=$("#plusTipBottom");sessionStorage.banJDPlusTipBottom&&"0"!=sessionStorage.banJDPlusTipBottom||T.show();var b=T.find(".btn_close");b.on("click",function(){T.hide(),sessionStorage.banJDPlusTipBottom=1})}});
/*!common/components/template-helper/main.js*/
;define("common/components/template-helper/main",["require","exports","module","dep/artTemplate/dist/template"],function(require,exports,module){var a=require("dep/artTemplate/dist/template");a.config("escape",!1),a.helper("formatTime",function(a){var g=new Date(a.replace(/-/g,"/")),h=g.getFullYear(),c=g.getMonth()+1,M=g.getDate(),D=g.getHours(),v=g.getMinutes(),y=new Date;return h==y.getFullYear()&&c==y.getMonth()+1&&M==y.getDate()?(10>D?"0"+D:D)+":"+(10>v?"0"+v:v):h+"-"+(10>c?"0"+c:c)+"-"+(10>M?"0"+M:M)}),a.helper("mathFloor",function(a){return Math.floor(parseFloat(a))}),a.helper("mathToFloat",function(a){return-1==a.indexOf(".")&&(a+=".0"),a}),a.helper("tjnoNoPager",function(a){return 10>a?"000"+a:"00"+a}),a.helper("tjnoWithPager",function(a,g){return(10>a?"0"+a:a)+(10>g?"0"+g:g)}),a.helper("formatText",function(a,g){return a.length>g?a.substr(0,g)+"...":a}),a.helper("subDateString",function(a,g){return a.length>g?a.substr(0,g):a}),a.helper("dateFormat",function(a,g){if("string"==typeof a){var h=a.match(/(\/Date\((\d+)\)\/)/);h&&h.length>=3&&(a=parseInt(h[2]))}if(a=new Date(a),!a||"Invalid Date"==a.toUTCString())return"";var c={M:a.getMonth()+1,d:a.getDate(),h:a.getHours(),m:a.getMinutes(),s:a.getSeconds(),q:Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};return g||(g="yyyy-MM-dd hh:mm:ss"),g=g.replace(/([yMdhmsqS])+/g,function(g,t){var h=c[t];return void 0!==h?(g.length>1&&(h="0"+h,h=h.substr(h.length-2)),h):"y"===t?(a.getFullYear()+"").substr(4-g.length):g})}),module.exports=a});
/*!job-detail/modules/interview-review/main.js*/
;define("job-detail/modules/interview-review/main",["require","exports","module","common/components/template-helper/main"],function(require){function a(a){console.log(a)}function c(a){return a.replace(/<\/?[^>]*>/g,"")}function v(a,c){var v='<span class="review-type">[面试过程]</span>',w='<span class="review-type">[其他评价]</span>',y='<div class="interview-process">$</div>',h='<div class="other-review">$</div>',g='<a href="javascript:;" class="up"><span>收起</span><i></i></a>';return""==c?"<div>"+v+y.replace("$",a)+g+"</div>":"<div>"+v+y.replace("$",a)+"</div><div>"+w+h.replace("$",c)+g+"</div>"}function w(a,v){a=c(a),v=c(v);var w='<span class="review-type">[面试过程]</span>',y='<span class="review-type">[其他评价]</span>',h='<div class="interview-process">$</div>',g='<div class="other-review">$</div>',b='...<a href="javascript:;" class="down"><span>展开</span><i></i></a>';return""==v?a.length<=194?"<div>"+w+h.replace("$",a)+"</div>":"<div>"+w+h.replace("$",a.substr(0,194))+b+"</div>":a.length+v.length<=188?"<div>"+w+h.replace("$",a)+"</div><div>"+y+g.replace("$",v)+"</div>":a.length>188?"<div>"+w+h.replace("$",a.substr(0,194))+b+"</div>":"<div>"+w+h.replace("$",a)+"</div><div>"+y+g.replace("$",v.substr(0,188-a.length))+b+"</div>"}function y(a){var c='<a href="javascript:;" class="up"><span>收起</span><i></i></a>';return a+c}function h(a){a=c(a);var v='...<a href="javascript:;" class="down"><span>展开</span><i></i></a>';return a.length>200?a.substr(0,200)+v:a}var g=require("common/components/template-helper/main");g.helper("foldReview",w),g.helper("foldReply",h);var b,E={getList:function(a,c,v){$.ajax({url:GLOBAL_DOMAIN.ctx+"/interview/experience/byPosition.json",type:"POST",dataType:"json",data:a,success:function(a){1==a.state?c(a):v(a)},error:v})},useful:function(a,c,v){PASSPORT.util.rpc({params:a,url:GLOBAL_DOMAIN.ctx+"/mycenter/incrInterviewExperienceUsefulCount.json",succ:function(a){1==a.state?c(a):v(a)},fail:v})}};E.getList({positionId:global.positionId,pageSize:500},function(a){b=a.content.data.data;var c=$(".interview_experience"),v=c.find(".reviews-area");if(b.result.length>0){var w='<ul class="list-content">\n    {{each list as interviewExperience i}}\n    <li class="review-area clearfix">\n        <div class="review-avater">\n            <img alt="评价人头像" src="{{lgsctx}}/thumbnail_100x100/{{interviewExperience.portrait}}" />\n            {{if interviewExperience.isAnonymous}}\n                <span>匿名</span>\n            {{else}}\n                <a title="{{interviewExperience.username}}">\n                    {{interviewExperience.username.substr(0, 3)}}\n                </a>\n            {{/if}}\n        </div>\n        <div class="review-right">\n            <div class="review-stars clearfix">\n                <ul>\n                {{if interviewExperience.describeScore > 0}}\n                    <li>\n                        <span>描述相符</span>\n                        <div class="stars">\n                        {{each stars as score i}}\n                            <i class="star{{if i + 1 <= interviewExperience.describeScore}} star-{{interviewExperience.describeScore}}{{/if}}"></i>\n                        {{/each}}\n                        </div>\n                    </li>\n                    <li>\n                        <span>面试官</span>\n                        <div class="stars">\n                        {{each stars as score i}}\n                            <i class="star{{if i + 1 <= interviewExperience.interviewerScore}} star-{{interviewExperience.interviewerScore}}{{/if}}"></i>\n                        {{/each}}\n                        </div>\n                    </li>\n                    <li>\n                        <span>公司环境</span>\n                        <div class="stars">\n                        {{each stars as score i}}\n                            <i class="star{{if i + 1 <= interviewExperience.companyScore}} star-{{interviewExperience.companyScore}}{{/if}}"></i>\n                        {{/each}}\n                        </div>\n                    </li>\n                {{else}}\n                    <li>\n                        <span>综合评分</span>\n                        <div class="stars">\n                        {{each stars as score i}}\n                            <i class="star{{if i + 1 <= interviewExperience.comprehensiveScore}} star-{{interviewExperience.comprehensiveScore | mathFloor}}{{/if}}"></i>\n                        {{/each}}\n                        </div>\n                    </li>\n                {{/if}}\n                </ul>\n                <span class="review-date">{{interviewExperience.createTime | formatTime}}</span>\n            </div>\n            <div class="review-tags clearfix">\n                {{each interviewExperience.tagArray as tag}}\n                    <div class="tag">{{tag}}</div>\n                {{/each}}\n            </div>\n            <div class="review-content">\n                {{interviewExperience.content | foldReview: interviewExperience.evaluation}}\n            </div>\n            <div class="review-action">\n                {{if interviewExperience.reply}}\n                  <span class="replied">企业回复</span>\n                  <a class="useful noSelect" style="padding-left: 10px;" data-id="{{interviewExperience.id}}">有用&nbsp;(&nbsp;<span>{{interviewExperience.usefulCount}}</span>&nbsp;)<i></i></a>\n                {{else}}\n                  <a class="useful noSelect" data-id="{{interviewExperience.id}}">有用&nbsp;(&nbsp;<span>{{interviewExperience.usefulCount}}</span>&nbsp;)<i></i></a>\n                {{/if}}\n            </div>\n            <div class="review-reply">\n            {{if interviewExperience.reply}}\n                <div class="triangleOut"></div>\n                <div class="triangleIn"></div>\n                <div class="reply-area">\n                    <img alt="评价回复人头像" src="{{lgsctx}}/thumbnail_100x100/{{interviewExperience.reply.portrait}}" />\n                    <div class="reply-right">\n                        <span class="reply-date">{{interviewExperience.reply.createTime | formatTime}}</span>\n                        <div class="reply-info">\n                            <span>{{interviewExperience.reply.companyName}}</span>\n                            &nbsp;·&nbsp;\n                            <span>{{interviewExperience.reply.username}}</span>\n                            {{if interviewExperience.reply.positionName}}\n                            &nbsp;·&nbsp;\n                            <span>{{interviewExperience.reply.positionName}}</span>\n                            {{/if}}\n                        </div>\n                        <div class="reply-content">\n                            {{interviewExperience.reply.content | foldReply}}\n                        </div>\n                    </div>\n                </div>\n            {{/if}}\n            </div>\n        </div>\n    </li>\n    {{/each}}\n</ul>\n';v.html(g.compile(w)({ctx:GLOBAL_DOMAIN.ctx,lgsctx:GLOBAL_DOMAIN.lgsctx,list:b.result,cdndomain:window.GLOBAL_CDN_DOMAIN,stars:[1,2,3,4,5]})),$(".interview_experience .checkAll").show()}else if(0==b.result.length&&global.experienceCount>0){var w='<!-- 面试评价列表-空 -->\n<div class="list-empty">\n    <i></i>\n    <span>该职位尚未收到面试评价</span>\n    <span class="list_empty_tips" style="display:none"> ,看看该公司<a href="{{ctx}}/gongsi/interviewExperiences.html?companyId={{companyId}}" target="_blank" class="list_empty_link">其他职位的面试评价</a></span>\n</div>\n';v.html(g.compile(w)({companyId:global.companyId,cdndomain:window.GLOBAL_CDN_DOMAIN})),$(".list_empty_tips").show()}else if(0==b.result.length&&0==global.experienceCount){var w='<!-- 面试评价列表-空 -->\n<div class="list-empty">\n    <i></i>\n    <span>该职位尚未收到面试评价</span>\n    <span class="list_empty_tips" style="display:none"> ,看看该公司<a href="{{ctx}}/gongsi/interviewExperiences.html?companyId={{companyId}}" target="_blank" class="list_empty_link">其他职位的面试评价</a></span>\n</div>\n';v.html(g.compile(w)({companyId:global.companyId,cdndomain:window.GLOBAL_CDN_DOMAIN})),$(".list_empty_tips").hide()}},a),$("body").on("click",".review-content .down",function(){var a=$(this).parents(".review-content"),c=a.index(".review-content"),w=b.result[c];a.html(v(w.content,w.evaluation))}),$("body").on("click",".review-content .up",function(){var a=$(this).parents(".review-content"),c=a.index(".review-content"),v=b.result[c];a.html(w(v.content,v.evaluation))}),$("body").on("click",".reply-content .down",function(){var a=$(this).parent(),c=$(this).parents(".review-reply").index(".review-reply"),v=b.result[c];a.html(y(v.reply.content))}),$("body").on("click",".reply-content .up",function(){var a=$(this).parent(),c=$(this).parents(".review-reply").index(".review-reply"),v=b.result[c];a.html(h(v.reply.content))}),$("body").on("click",".useful:not(.disable):not(.requesting)",function(){var a=$(this);a.addClass("requesting"),E.useful({interviewExperienceId:a.data("id")},function(){var c=a.children("span"),v=parseInt(c.text());c.text(++v),a.removeClass("requesting")},function(c){a.children("i").text(c.message||"程序异常").stop().fadeIn(200).delay(1500).fadeOut(200),a.removeClass("requesting")})})});
/*!job-detail/modules/view-again/main.js*/
;define("job-detail/modules/view-again/main",["require","exports","module","common/widgets/plat/exposure","dep/artTemplate/dist/template"],function(require){var a=require("common/widgets/plat/exposure").exposure,c=require("dep/artTemplate/dist/template");c.helper("subString",function(a,c){for(var g="",n=0,i=0;i<a.length;i++){var s=a.charAt(i);if(/[\u4e00-\u9fa5]/.test(s)?n+=2:n++,n>c){g+="...";break}g+=s}return g}),$.ajax({url:window.location.protocol+"//rec.lagou.com/viewrec",type:"GET",dataType:"jsonp",jsonp:"recback",data:{positionid:global.positionId,userid:global.userId,pageSize:5},success:function(g){var h=$(".view_again"),w=h.find(".view_again_area");if(g.result.length){h.show();var j='<!--看了又看列表-->\n<ul>\n  {{each list as position i}}\n      <li>\n          <a class="company-logo" href="{{ctx}}/jobs/{{position.positionId}}.html" target="_blank" data-index="{{i}}" data-lg-tj-id="9900" data-lg-tj-no="000{{i}}" data-lg-tj-cid="idnull">\n              <img alt="公司Logo" src="{{position.companyLogo.replace(/^(https?\\:)\\/\\/www\\.lagou\\.com/i, \'$1\' + \'//\' + cdndomain + \'/thumbnail_120x120\')}}" />\n          </a>\n          <a class="position" href="{{ctx}}/jobs/{{position.positionId}}.html" title="{{position.positionName}}" target="_blank" data-index="{{i}}" data-lg-tj-id="9a00" data-lg-tj-no="000{{i}}" data-lg-tj-cid="idnull" {{if position.strategy}}data-lg-tj-abt="{{position.strategy.testname}}|{{position.strategy.testid}}"{{/if}}>\n              {{position.positionName | subString:12}}\n          </a>\n          <div class="salary">\n              {{position.salary}}\n          </div>\n          <a title="{{position.companyName}}" class="company-name">\n              {{position.companyName | subString:12}}\n          </a>\n      </li>\n  {{/each}}\n</ul>\n';w.html(c.compile(j)({list:g.result,ctx:GLOBAL_DOMAIN.ctx,lgsctx:GLOBAL_DOMAIN.lgsctx,cdndomain:window.GLOBAL_CDN_DOMAIN}));var v=[],b=[],_=[],y=$(".view_again li a.position");y.each(function(a,c){if($(c).attr("data-lg-tj-id")){var g=$(c).attr("data-lg-tj-id")||"idnull",h=$(c).attr("data-lg-tj-no")||"idnull",w=$(c).attr("data-lg-tj-cid")||"idnull",j=$(c).attr("data-lg-tj-abt")||"";j&&"|"!=j?(b.push([g,h,w]),_.push(j)):v.push([g,h,w])}}),b.length>0&&_.length>0&&a(b,"p",_),v.length>0&&a(v,"p"),g.totalCount<=5&&h.find(".checkAll").hide()}}}),$(".view_again_area").on("click",".position, .company-logo",function(e){e.preventDefault();var a=$(this),c=a.attr("href"),g=a.data("index");c=c+"?source=viewrec&i=position_rec-"+g,window.open(c)})});
/*!dep/jquery_lazyload/jquery.lazyload.js*/
;define("dep/jquery_lazyload/jquery.lazyload",["require","exports","module"],function(){!function(a,h,c,A){var g=a(h);a.fn.lazyload=function(v){function b(){var h=0;_.each(function(){var c=a(this);if(!y.skip_invisible||c.is(":visible"))if(a.abovethetop(this,y)||a.leftofbegin(this,y));else if(a.belowthefold(this,y)||a.rightoffold(this,y)){if(++h>y.failure_limit)return!1}else c.trigger("appear"),h=0})}var w,_=this,y={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:h,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return v&&(A!==v.failurelimit&&(v.failure_limit=v.failurelimit,delete v.failurelimit),A!==v.effectspeed&&(v.effect_speed=v.effectspeed,delete v.effectspeed),a.extend(y,v)),w=y.container===A||y.container===h?g:a(y.container),0===y.event.indexOf("scroll")&&w.bind(y.event,function(){return b()}),this.each(function(){var h=this,c=a(h);h.loaded=!1,(c.attr("src")===A||c.attr("src")===!1)&&c.is("img")&&c.attr("src",y.placeholder),c.one("appear",function(){if(!this.loaded){if(y.appear){var A=_.length;y.appear.call(h,A,y)}a("<img />").bind("load",function(){var A=c.attr("data-"+y.data_attribute);c.hide(),c.is("img")?c.attr("src",A):c.css("background-image","url('"+A+"')"),c[y.effect](y.effect_speed),h.loaded=!0;var g=a.grep(_,function(a){return!a.loaded});if(_=a(g),y.load){var v=_.length;y.load.call(h,v,y)}}).attr("src",c.attr("data-"+y.data_attribute))}}),0!==y.event.indexOf("scroll")&&c.bind(y.event,function(){h.loaded||c.trigger("appear")})}),g.bind("resize",function(){b()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&g.bind("pageshow",function(h){h.originalEvent&&h.originalEvent.persisted&&_.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){b()}),this},a.belowthefold=function(c,v){var b;return b=v.container===A||v.container===h?(h.innerHeight?h.innerHeight:g.height())+g.scrollTop():a(v.container).offset().top+a(v.container).height(),b<=a(c).offset().top-v.threshold},a.rightoffold=function(c,v){var b;return b=v.container===A||v.container===h?g.width()+g.scrollLeft():a(v.container).offset().left+a(v.container).width(),b<=a(c).offset().left-v.threshold},a.abovethetop=function(c,v){var b;return b=v.container===A||v.container===h?g.scrollTop():a(v.container).offset().top,b>=a(c).offset().top+v.threshold+a(c).height()},a.leftofbegin=function(c,v){var b;return b=v.container===A||v.container===h?g.scrollLeft():a(v.container).offset().left,b>=a(c).offset().left+v.threshold+a(c).width()},a.inviewport=function(h,c){return!(a.rightoffold(h,c)||a.leftofbegin(h,c)||a.belowthefold(h,c)||a.abovethetop(h,c))},a.extend(a.expr[":"],{"below-the-fold":function(h){return a.belowthefold(h,{threshold:0})},"above-the-top":function(h){return!a.belowthefold(h,{threshold:0})},"right-of-screen":function(h){return a.rightoffold(h,{threshold:0})},"left-of-screen":function(h){return!a.rightoffold(h,{threshold:0})},"in-viewport":function(h){return a.inviewport(h,{threshold:0})},"above-the-fold":function(h){return!a.belowthefold(h,{threshold:0})},"right-of-fold":function(h){return a.rightoffold(h,{threshold:0})},"left-of-fold":function(h){return!a.rightoffold(h,{threshold:0})}})}(jQuery,window,document)});
/*!job-detail/modules/job-recommend/main.js*/
;define("job-detail/modules/job-recommend/main",["require","exports","module","common/widgets/plat/exposure","dep/jquery_lazyload/jquery.lazyload"],function(require){function a(t,a,c){var j=encodeURIComponent(document.URL),h=Math.random(),g=a.find("li"),v=a.children("dl"),y=[],b=[];if(g.length&&!(g.length<1)){if(g.each(function(){var a=$(this).attr(c);void 0!=a&&y.push(a)}),v.each(function(){var a=$(this).attr(c);b.push(a)}),""==y)var w=b.join(",");else var w=y.join(",");var z=w,A={t:t,dl:j,jids:z,z:h};_(A)}}var c=require("common/widgets/plat/exposure").exposure,_=require("common/widgets/plat/exposure").postoA;require("dep/jquery_lazyload/jquery.lazyload"),$("img.lazy_img").lazyload({placeholder:"//"+GLOBAL_CDN_DOMAIN+"/www/static/job-detail/modules/job-recommend/img/company-logo-default_122f416.png"});$("#jobs_similar_detail").find(".similar_list_item").find("a");$(".jobs_similar_detail .similar_list a").click(function(e){e.preventDefault();var a=$(this),c=a.attr("href"),_=a.attr("data-index");window.open(c+"?source=position_rec&i=position_rec-"+_)});var j=[],h=[],g=[],v=$("#jobs_similar_detail .similar_list_item a.position_link");v.each(function(a,c){if($(c).attr("data-lg-tj-id")){var _=$(c).attr("data-lg-tj-id")||"idnull",v=$(c).attr("data-lg-tj-no")||"idnull",y=$(c).attr("data-lg-tj-cid")||"idnull",b=$(c).attr("data-lg-tj-abt")||"";b&&"|"!=b?(h.push([_,v,y]),g.push(b)):j.push([_,v,y])}}),h.length>0&&g.length>0&&c(h,"p",g),j.length>0&&c(j,"p");var y=$(".jobs_similar_detail"),b="data-jobid",t="similar";a(t,y,b)});
/*!common/components/gd-map/main.js*/
;define("common/components/gd-map/main",["require","exports","module"],function(require,exports){function a(a){c=!0,g--;var b=a.key||"ca71f341bd8d847d79b958d2c40b4532",v=document.createElement("script");v.src="//webapi.amap.com/maps?v=1.3&key="+b+"&callback=gdMapInit",document.body.appendChild(v),window.gdMapInit=function(){for(var i=0;i<h.length;i++)h[i].plugins&&h[i].plugins.length>0?AMap.plugin(h[i].plugins,h[i].handler):h[i].handler();c=!1}}var c=!1,g=5,h=[];exports.loadMap=function(b){return 0>=g?void(0==g&&console.log("地图加载失败")):void("undefined"!=typeof AMap||c?b.handler&&(c?h.push(b):function(){b.plugins&&b.plugins.length>0?AMap.plugin(b.plugins,b.handler):b.handler()}()):(b.handler&&h.push(b),a(b)))}});
/*!job-detail/modules/job-company/main.js*/
;define("job-detail/modules/job-company/main",["require","exports","module","common/components/gd-map/main"],function(require){function a(a){var c=new AMap.Map("fullMap",{isHotspot:!0});c.setZoomAndCenter(15,a);var v=new AMap.Marker({position:a});v.setMap(c),c.plugin(["AMap.PlaceSearch","AMap.AdvancedInfoWindow"],function(){function a(a){var M=a.poiList.pois,g=M[0].location;A.setContent(v(M[0])),A.open(c,g)}function v(a){var s=[];return s.push('<div class="info-title">'+a.name+'</div><div class="info-content">地址：'+a.address),s.push("电话："+a.tel),s.push("类型："+a.type),s.push("<div>"),s.join("<br>")}var M=new AMap.PlaceSearch,A=new AMap.AdvancedInfoWindow({});c.on("hotspotclick",function(c){M.getDetails(c.id,function(c,v){"complete"===c&&"OK"===v.info&&a(v)})})}),c.on("complete",function(){c.plugin(["AMap.ToolBar","AMap.OverView","AMap.Scale"],function(){c.addControl(new AMap.ToolBar),c.addControl(new AMap.OverView),c.addControl(new AMap.Scale)})}),$("#mapPreview").bind("click",function(){var M=!0,w=!1;$.colorbox({inline:!0,href:"#mapPopup",title:"公司地址",onComplete:function(){if(M){var C=new AMap.Geocoder({city:g,radius:500}),h=new AMap.InfoWindow({offset:{x:0,y:-30}});C.getAddress(a,function(a,M){if("complete"===a&&"OK"===M.info)var g=(M.regeocode.addressComponent.city||M.regeocode.addressComponent.province)+M.regeocode.addressComponent.district+M.regeocode.addressComponent.street+"<br />"+A;else var g=A;h.setContent(g),v.on("click",function(){h.open(c,v.getPosition())}),c.on("click",function(){c.clearInfoWindow()}),h.open(c,v.getPosition()),w=!0})}w&&h.open(c,v.getPosition())}})})}var c=require("common/components/gd-map/main").loadMap,v=$(".job-address input[name=positionLng]").val(),M=$(".job-address input[name=positionLat]").val(),A=$(".job-address input[name=positionAddress]").val(),g=$(".job-address input[name=workAddress]").val();c({handler:function(){var c,w=new AMap.Map("miniMap");if(!v||!M||Math.abs(v)<1&&Math.abs(M)<1){var C=new AMap.Geocoder({city:g,radius:500});C.getLocation(A,function(g,C){if("complete"===g&&"OK"===C.info){c=C.geocodes[0].location;var h=(C.geocodes[0].addressComponent.city||C.geocodes[0].addressComponent.province)+C.geocodes[0].addressComponent.district+C.geocodes[0].addressComponent.street+"<br />"+A}else{v=116.30796,M=39.982129,c=new AMap.LngLat(v,M);var h=A}w.setZoomAndCenter(12,c);var b=new AMap.Marker({position:c});b.setMap(w);var y=new AMap.InfoWindow({content:h,offset:{x:0,y:-30}});b.on("click",function(){y.open(w,b.getPosition())}),w.on("click",function(){w.clearInfoWindow()}),a(c)})}else{c=new AMap.LngLat(v,M),w.setZoomAndCenter(12,c);var h=new AMap.Marker({position:c});h.setMap(w);var C=new AMap.Geocoder({city:g,radius:500});C.getAddress(c,function(a,c){if("complete"===a&&"OK"===c.info)var v=(c.regeocode.addressComponent.city||c.regeocode.addressComponent.province)+c.regeocode.addressComponent.district+c.regeocode.addressComponent.street+"<br />"+A;else var v=A;var M=new AMap.InfoWindow({content:v,offset:{x:0,y:-30}});h.on("click",function(){M.open(w,h.getPosition())}),w.on("click",function(){w.clearInfoWindow()})}),a(c)}},plugins:["AMap.Geocoder"]}),$("#job_company .icon-glyph-valid").hover(function(){$(this).next().show()},function(){$(this).next().hide()})});
/*!job-detail/modules/popup/main.js*/
;define("job-detail/modules/popup/main",["require","exports","module"],function(require,exports,module){function sendResume(a,c){$.ajax({url:GLOBAL_DOMAIN.ctx+"/mycenterDelay/deliverResumeBeforce.json",type:"POST",async:!1,dataType:"json",data:a}).done(function(r){null!=r.resubmitToken&&""!=r.resubmitToken&&$("#resubmitToken").val(r.resubmitToken),r.success?($("#deliverResumesSuccess .resume_delay_txt").html(r.msg),10==r.code&&$("#deliverResumesSuccess p.share").removeClass("dn"),$.colorbox({inline:!0,href:$("#deliverResumesSuccess"),title:"投个简历",overlayClose:!1}),$("#recall").length>0&&setCountdown(9,"recall_time"),initDeliverLog(0)):7==r.code?(initDeliverLog(1),errorTipsSet("投递失败："+r.msg,"投个简历")):20==r.code?($('#deliverResumeConfirm input[name="type"]').val(0),$("#deliverResumeConfirm .msg").html(r.msg),$.colorbox({inline:!0,href:$("#deliverResumeConfirm"),title:"投递简历确认"})):21==r.code?($('#deliverResumeConfirm input[name="type"]').val(1),$("#deliverResumeConfirm .msg").html(r.msg),$.colorbox({inline:!0,href:$("#deliverResumeConfirm"),title:"投递简历确认"})):22==r.code?openProfileBox(0):23==r.code?openProfileBox(1):31==r.code?(initDeliverLog(1),$("#upperLimit").find("h4").find("i").text(r.msg),$.colorbox({inline:!0,href:$("#upperLimit"),title:"投个简历"})):(initDeliverLog(1),errorTips("投递失败："+(r.msg||"请刷新重试"),"投个简历")),c&&c()})}function fixBasicInfoSendResume(a,c){$.ajax({url:GLOBAL_DOMAIN.ctx+"/resume/saveConfirmAndDeliver.json",type:"POST",data:a,dataType:"json"}).done(function(r){null!=r.resubmitToken&&""!=r.resubmitToken&&$("#resubmitToken").val(r.resubmitToken),force_first=!1,r.success?($("#deliverResumesSuccess .resume_delay_txt").html(r.msg),10==r.code&&$("#deliverResumesSuccess p.share").removeClass("dn"),$.colorbox({inline:!0,href:$("#deliverResumesSuccess"),title:"投个简历",overlayClose:!1}),$("#recall").length>0&&setCountdown(9,"recall_time"),initDeliverLog(0)):7==r.code?(initDeliverLog(1),errorTipsSet("投递失败："+r.msg,"投个简历")):20==r.code?($('#deliverResumeConfirm input[name="type"]').val(0),$("#deliverResumeConfirm .msg").html(r.msg),$.colorbox({inline:!0,href:$("#deliverResumeConfirm"),title:"投递简历确认"})):21==r.code?($('#deliverResumeConfirm input[name="type"]').val(1),$("#deliverResumeConfirm .msg").html(r.msg),$.colorbox({inline:!0,href:$("#deliverResumeConfirm"),title:"投递简历确认"})):22==r.code?openProfileBox(0):23==r.code?openProfileBox(1):31==r.code?(initDeliverLog(1),$("#upperLimit").find("h4").find("i").text(r.msg),$.colorbox({inline:!0,href:$("#upperLimit"),title:"投个简历"})):(initDeliverLog(1),errorTips("投递失败："+(r.msg||"请刷新重试"),"投个简历")),c()})}function openProfileBox(a){$.ajax({url:GLOBAL_DOMAIN.ctx+"/resume/queryConfirmInfo.json",data:{type:a},dataType:"json"}).done(function(a){if(a.success){$('#basicInfoForm input[name="name"]').val(a.content.name),a.content.highestEducation&&($('#basicInfoForm input[name="degree"]').val(a.content.highestEducation),$("#basicInfoForm #select_degree").val(a.content.highestEducation).css("color","#333")),a.content.workYear&&($('#basicInfoForm input[name="workyear"]').val(a.content.workYear),$("#basicInfoForm #select_workyear").val(a.content.workYear).css("color","#333")),a.content.city&&($('#basicInfoForm input[name="expectCity"]').val(a.content.city),$("#basicInfoForm #select_expectCity").val(a.content.city).css("color","#333")),$('#basicInfoForm input[name="tel"]').val(a.content.phone),$('#basicInfoForm input[name="email"]').val(a.content.email),$('#basicInfoForm input[name="type"]').val(a.content.type);for(var c="<ul>",i=0;i<a.content.workTimes.length;i++)c+="<li>"+a.content.workTimes[i]+"</li>";c+="</ul>",$("#basicInfoForm #box_workyear").html(c);for(var b="",i=0;i<a.content.citys.length;i++){b+="<dl><dt>"+a.content.citys[i].nameStr+"</dt><dd>";for(var v=0;v<a.content.citys[i].cityList.length;v++)b+="<span>"+a.content.citys[i].cityList[v]+"</span>";b+="</dd></dl>"}$("#basicInfoForm #box_expectCity").html(b);for(var h="<ul>",i=0;i<a.content.degrees.length;i++)h+="<li>"+a.content.degrees[i]+"</li>";h+="</ul>",$("#basicInfoForm #box_degree").html(h),$("#basicInfoForm").find("span.error").hide(),$.colorbox({inline:!0,href:$("#infoBeforeDeliverResume"),title:"个人信息确认"})}else alert(a.msg)})}function errorTipsSet(a){$.colorbox({html:'<div class="popup" style="width:460px;"><table width="100%"><tr><td align="center"><h4 class="error_msg" style="width:400px;">'+a+'</h4></td></tr><tr><td align="center"><a href="'+GLOBAL_DOMAIN.ctx+'/resume/myresume.html" target="_blank" class="btn_s">马上去完善</a></td></tr></table></div>',title:"错误提示"})}function file_check(obj,action_url,id,e){if(2==uploadFlag)return!1;uploadFlag=2,$("#loadingImg").css("visibility","visible");var obj=$("#"+id),userId=$("#userid").val();if(this.AllowExt=".doc,.docx,.pdf,.ppt,.pptx,.txt,.wps",this.FileExt=obj.val().substr(obj.val().lastIndexOf(".")).toLowerCase(),0!=this.AllowExt&&-1==this.AllowExt.indexOf(this.FileExt))"reUploadResume1"==id?$("#setResume span.error").show():"reUploadResume2"==id?$("#setResumeApply span.error").show():(errorTips("只支持word、pdf、ppt、txt、wps格式文件，请重新上传"),$("#loadingImg").css("visibility","hidden")),uploadFlag=1;else{if(""==this.FileExt)return!1;$.ajaxFileUpload({type:"POST",url:action_url,secureuri:!1,fileElementId:id,data:{userId:userId},dataType:"text",success:function(jsonStr){$("#setResumeApply span.error").hide(),$("#resumeSetForm span.error").hide();var json=eval("("+jsonStr+")");if($("#loadingImg").css("visibility","hidden"),json.success){var nearbyName="";nearbyName=json.content.nearbyName.length>18?json.content.nearbyName.substring(0,15)+"...":json.content.nearbyName,$("#resumeSendForm .btn_profile_save").removeAttr("disabled").css("backgroundColor","#019875"),$("#resumeSetForm .btn_profile_save").removeAttr("disabled").css("backgroundColor","#019875"),"reUploadResume1"==id?($("#setResume .uploadedResume").text(nearbyName).attr("title",json.content.nearbyName).removeClass("red"),$("#setResume .downloadResume").removeClass("dn").siblings("span").removeClass("dn"),$("#setResume .reUpload").text("重新上传")):"reUploadResume2"==id?($("#setResumeApply .uploadedResume").text(nearbyName).attr("title",json.content.nearbyName).removeClass("red"),$("#setResumeApply .downloadResume").removeClass("dn").siblings("span").removeClass("dn"),$("#setResumeApply .reUpload").text("重新上传")):$.colorbox({inline:!0,href:$("div#uploadFileSuccess"),title:"上传附件简历"})}else-1==json.code?$.colorbox({inline:!0,href:$("div#fileResumeUpload"),title:"附件简历上传失败"}):-2==json.code?$.colorbox({inline:!0,href:$("div#fileResumeUploadSize"),title:"附件简历上传失败"}):(errorTips("简历上传失败，请重新上传"),$("#loadingImg").css("visibility","hidden"));uploadFlag=1},error:function(){errorTips("简历上传失败，请重新上传"),$("#loadingImg").css("visibility","hidden"),uploadFlag=1,$(".btn_s").click(function(){window.location.reload()}),$("body").on("click","#cboxClose",function(){"uploadFile"==$(this).siblings("#cboxLoadedContent").children("div").attr("id")&&window.location.reload()})}})}}function errorTips(a,c){$.colorbox({html:'<div id="uploadFile" class="popup"><table width="100%"><tr><td align="center"><h4 class="error_msg">'+a+'</h4></td></tr><tr><td align="center"><a href="javascript:;" class="btn_s">确&nbsp;定</a></td></tr></table></div>',title:c?c:"错误提示"})}function setCountdown(a,c){var b=setTimeout(function(){$("#"+c).html(a),0==a&&(clearTimeout(b),$("#deliverResumesSuccess p.count>i").addClass("dn"),isDeliverSuccess&&(location.href=GLOBAL_DOMAIN.ctx+"/deliverSuccess/success.html?positionId="+global.positionId)),setCountdown(a-1,c)},1e3)}function initDeliverLog(a){var c={};c.logtype="deliver-"+a,c.position=GetQueryString("i"),c.orderid=null,c.userid=global.userId,c.positionid=$("#jobid").val(),c.url=location.href,c.fromsite=document.referrer||null,logImgLoader("logImgSet",c)}var isDeliverSuccess=!0;$(".little_interest").on("click",function(){$.colorbox.close()}),$(".no_interest_ensure").on("click",function(){$.colorbox.close(),setTimeout(function(){$(".invi_info_box").fadeIn(200)},300)}),$("#resumeSetForm a.reUpload").bind("click",function(){$("#resumeSetForm span.error").hide(),$("#reUploadResume1").click()}),$("#resumeSendForm a.reUpload").bind("click",function(){$("#resumeSendForm span.error").hide(),$("#reUploadResume2").click()}),$('#resumeSendForm input[type="checkbox"]').bind("click",function(){$(this).attr("checked")?$(this).attr("checked",!1):$(this).attr("checked",!0)}),$("#resumeSendForm label.radio").bind("click",function(){$(this).children("span").hasClass("red")?$("#resumeSendForm .btn_profile_save").attr("disabled","disabled").css("backgroundColor","#a3a3a3"):$("#resumeSendForm .btn_profile_save").removeAttr("disabled").css("backgroundColor","#00b38a")}),$("#resumeSetForm label.radio").bind("click",function(){$(this).children("span").hasClass("red")?$("#resumeSetForm .btn_profile_save").attr("disabled","disabled").css("backgroundColor","#a3a3a3"):$("#resumeSetForm .btn_profile_save").removeAttr("disabled").css("backgroundColor","#00b38a")}),$("#resumeSetForm").validate({rules:{resumeName:{required:!0}},messages:{resumeName:{required:"请选择默认投递的简历"}},errorPlacement:function(a,c){a.insertBefore($(c).parent().siblings(".bgPink"))},submitHandler:function(a){var c=$('input[name="resumeName"]:checked',a).val();$(a).find(":submit").attr("disabled",!0),$.ajax({url:GLOBAL_DOMAIN.ctx+"/mycenter/resume/setDefaultResume.json",type:"POST",data:{type:c}}).done(function(c){c.success?top.location.reload():console.log(c.msg),$(a).find(":submit").attr("disabled",!1)})}}),$("#resumeSendForm").validate({rules:{resumeName:{required:!0}},messages:{resumeName:{required:"请选择默认投递的简历"}},errorPlacement:function(a,c){a.insertBefore($(c).parent().siblings(".bgPink"))},submitHandler:function(a){var c=$("#userid").val(),b=$("#jobid").val(),v=$('input[name="resumeName"]:checked',a).val(),h=-1;$('input[type="checkbox"]',a).attr("checked")&&(h=1);var _=$("#resubmitToken").val();$(a).find(":submit").attr("disabled",!0),$("#isHeating").val()&&1==$("#isHeating").val()?heatingResume({userId:c,positionId:b,type:v,remember:h,resubmitToken:_,appointment:!0},function(){$(a).find(":submit").attr("disabled",!1)}):sendResume({userId:c,positionId:b,type:v,remember:h,resubmitToken:_},function(){$(a).find(":submit").attr("disabled",!1)})}});var setDefaultDeliver_delay=$(".setDefaultDeliver_delay"),setDefaultDeliver_delay_plus=$(".setDefaultDeliver_delay_plus");setDefaultDeliver_delay.click(function(){var a=$("#userid").val(),c=$("#jobid").val(),b=!1,v=!1,h=$("#resubmitToken").val(),_=null;$(".select-radio").hasClass("selected")&&(_=$(".select-radio.selected").attr("data-type")),v&&(_=$('#deliverResumeConfirm input[name="type"]').val()),$("#isHeating").val(0),sendResume({userId:a,positionId:c,force:b,type:_,resubmitToken:h})});var force_first=!1;setDefaultDeliver_delay_plus.click(function(){var a=$("#userid").val(),c=$("#jobid").val(),b=!0;force_first=!0;var v=!1,h=$("#resubmitToken").val(),_=null;$(".select-radio").hasClass("selected")&&(_=$(".select-radio.selected").attr("data-type")),v&&(_=$('#deliverResumeConfirm input[name="type"]').val()),sendResume({userId:a,positionId:c,force:b,type:_,resubmitToken:h})}),$("#select_degree").bind("click",function(e){e.stopPropagation(),$("#select_workyear").removeClass("select_focus"),$("#select_expectCity").removeClass("select_focus"),$("#box_workyear").hide(),$("#box_expectCity").hide(),$(this).addClass("select_focus"),$("#box_degree").show()}),$("#box_degree").on("click","ul li",function(e){e.stopPropagation();var a=$(this).text();$("#select_degree").val(a).css("color","#333").removeClass("select_focus"),$("#degree").val(a),$("#box_degree").hide(),$(this).parents("#basicInfoForm").validate().element($("#degree"))}),$("#select_workyear").bind("click",function(e){e.stopPropagation(),$("#select_degree").removeClass("select_focus"),$("#select_expectCity").removeClass("select_focus"),$("#box_degree").hide(),$("#box_expectCity").hide(),$(this).addClass("select_focus"),$("#box_workyear").show()}),$("#box_workyear").on("click","ul li",function(e){e.stopPropagation();var a=$(this).text();$("#select_workyear").val(a).css("color","#333").removeClass("select_focus"),$("#workyear").val(a),$("#box_workyear").hide(),$(this).parents("#basicInfoForm").validate().element($("#workyear"))}),$("#select_expectCity").bind("click",function(e){e.stopPropagation(),$("#select_workyear").removeClass("select_focus"),$("#select_degree").removeClass("select_focus"),$("#box_workyear").hide(),$("#box_degree").hide(),$(this).addClass("select_focus"),$("#box_expectCity").show()}),$("#box_expectCity").on("click","dl dd span",function(e){e.stopPropagation();var a=$(this).text();$("#select_expectCity").val(a).css("color","#333").removeClass("select_focus"),$("#expectCity").val(a),$("#box_expectCity").hide(),$(this).parents("#basicInfoForm").validate().element($("#expectCity"))}),$("body").click(function(){$(".boxUpDown").hide().prev("input").removeClass("select_focus")}),$("#deliverResumeConfirm .edit_field").bind("click",function(){var a=$('#deliverResumeConfirm input[name="type"]').val();openProfileBox(a)});var delayConfirmDeliver=$("#delayConfirmDeliver");delayConfirmDeliver.click(function(){var a=$("#userid").val(),c=$("#jobid").val(),b=!0,v=!0,h=$("#resubmitToken").val(),_=null;$(".select-radio").hasClass("selected")&&(_=$(".select-radio.selected").attr("data-type")),v&&(_=$('#deliverResumeConfirm input[name="type"]').val()),$("#isHeating").val()&&1==$("#isHeating").val()?heatingResume({userId:a,positionId:c,force:b,type:_,resubmitToken:h,appointment:!0}):sendResume({userId:a,positionId:c,force:b,type:_,resubmitToken:h})}),$("#basicInfoForm").validate({rules:{name:{required:!0,truename:!0,rangeLenStr:[1,20]},degree:{required:!0},workyear:{required:!0},expectCity:{required:!0},tel:{required:!0,isMobile:!0,maxlength:30},email:{required:!0,email:!0,maxlength:100}},messages:{name:{required:"请输入你的真实姓名",truename:"请输入你的真实姓名",rangeLenStr:"请输入你的真实姓名"},degree:{required:"请选择最高学历"},workyear:{required:"请选择工作年限"},expectCity:{required:"请选择期望工作城市"},tel:{required:"请输入手机号码",isMobile:"请输入有效的手机号码",maxlength:"请输入有效的手机号码"},email:{required:"请输入接收面试通知邮箱",email:"请输入有效的常用邮箱",maxlength:"输入100字符以内的邮箱地址"}},errorPlacement:function(a,c){"hidden"==c.attr("type")?a.appendTo($(c).parent()):a.insertAfter(c)},submitHandler:function(a){var c=$('input[name="name"]',a).val(),b=$('input[name="degree"]',a).val(),v=$('input[name="workyear"]',a).val(),h=$('input[name="expectCity"]',a).val(),_=$('input[name="tel"]',a).val(),y=$.trim($('input[name="email"]',a).val()),g=$('input[name="type"]',a).val(),k=$("#jobid").val(),C=$("#resubmitToken").val();$(a).find(":submit").attr("disabled",!0);var I={name:c,highestEducation:b,workYear:v,city:h,phone:_,email:y,type:g,positionId:k,force:force_first,deliver:!0,resubmitToken:C};$("#isHeating").val()&&1==$("#isHeating").val()?(I.appointment=!0,fixBasicInfoHeatResume(I,function(){$(a).find(":submit").attr("disabled",!1)})):fixBasicInfoSendResume(I,function(){$(a).find(":submit").attr("disabled",!1)})}}),$("#reportbox .select_box").on("click",function(a){$("#report_reason").css("border-color","#91cebe"),$(".report_select").css("border-color","#91cebe");var c=$(this).find("div.reason_content");c.is(":visible")?c.hide():c.show(),a.stopPropagation()}),$(".reason_content ul li").on("click",function(a){var c=$(this).attr("value");$("#report_reason").val($(this).text()),"请选择举报原因"!=$("#report_reason").val()?$("#report_reason").css("color","#333333"):$("#report_reason").css("color","#a9a9a9"),$("#report_reason_hidden").val($(this).text()),$("#report_reason_hidden").attr("data-key",c),$(this).parents(".reason_content").hide(),$(this).parents("#report_submit").validate().element($("#report_reason_hidden")),a.stopPropagation()}),$("#reportbox").on("click",function(){$(this).find("div.reason_content").hide(),$("#report_reason").css("border-color","#f1f1f1"),$(".report_select").css("border-color","#f1f1f1")}),$("#reportbox label.checkbox").on("click",function(a){$(this).find("i").is(":visible")?($(this).find(":checkbox").attr("checked",!1),$(this).find("i").hide()):($(this).find(":checkbox").attr("checked",!0),$(this).find("i").show()),$(".reason_content").hide(),$("#report_reason").css("border-color","#f1f1f1"),$(".report_select").css("border-color","#f1f1f1"),a.stopPropagation()}),$("#reportbox label.checkbox").hover(function(){$(this).css("border-color","#91cebe")},function(){$(this).css("border-color","#e0e0e0")}),$(".anonymous_submit").on("click",function(){var a=$(this).prev();a.find("i").is(":visible")?(a.find(":checkbox").attr("checked",!1),a.find("i").hide()):(a.find(":checkbox").attr("checked",!0),a.find("i").show()),$(".reason_content").hide(),$("#report_reason").css("border-color","#f1f1f1"),$(".report_select").css("border-color","#f1f1f1"),event.stopPropagation()}),$(".anonymous_submit").hover(function(){$("label.checkbox").css("border-color","#91cebe")},function(){$("label.checkbox").css("border-color","#e0e0e0")}),$("#reportbox label.checkbox>i").on("click",function(){$(".reason_content").hide(),$("#report_reason").css("border-color","#f1f1f1"),$(".report_select").css("border-color","#f1f1f1"),$(this).hide(),$(this).siblings("input[type='checkbox']").attr("checked",!1)}),$("#problem_txt").on("keyup",function(){var a=$(this);a.val().length>500?a.val(a.val().substring(0,500)):a.closest("tr").next().find(".report_txt").find("b").text(500-a.val().length)}),$("#problem_txt").on("click focus",function(a){$("#report_reason").css("border-color","#f1f1f1"),$(".report_select").css("border-color","#f1f1f1"),$("#problem_txt").css("border-color","#91cebe"),$(".reason_content").hide(),a.stopPropagation()}),$("#problem_txt").on("blur",function(){$("#problem_txt").css("border-color","#f1f1f1")}),$("#report_submit").validate({rules:{report_reason:{required:!0},content:{required:!1,maxlength:500}},messages:{report_reason:{required:"请选择举报原因"},content:{maxlength:"请输入500字以内的详情描述"}},errorPlacement:function(a,c){a.appendTo(c.parent())},submitHandler:function(){var a=$("#report_reason_hidden").attr("data-key"),c=$.trim($("#problem_txt").val()),b=0;b="checked"==$("label.checkbox").find(":checkbox").attr("checked")?1:0;var v=$("#jobid").val(),h=$("#resubmitToken").val();$.ajax({type:"POST",url:GLOBAL_DOMAIN.ctx+"/complaint/report.json",datatype:"json",data:{content:c,fId:v,fType:2,reason:a,isAnonymous:b,resubmitToken:h}}).done(function(a){null!=a.resubmitToken&&""!=a.resubmitToken&&$("#resubmitToken").val(a.resubmitToken),1==a.code?PASSPORT.popup():$.colorbox({inline:!0,href:$("div#receive_report"),title:"举报该职位"})})}}),$(".report_cancel").on("click",function(){$.colorbox.close()}),$(".upper_close").on("click",function(){$.colorbox.close()}),$(".btn_upper").on("click",function(){$.colorbox.close()}),$("#recall").click(function(){var a=$("#userid").val(),c=$("#jobid").val(),b=$("#resubmitToken").val();$.ajax({url:GLOBAL_DOMAIN.ctx+"/mycenterDelay/undoDeliverResume.json",data:{userId:a,positionId:c,resubmitToken:b},type:"POST",dataType:"json"}).done(function(a){if(null==c||void 0==c)var c=$("#resubmitToken").val();a.success&&(isDeliverSuccess=!1,initDeliverLog(2),$("#deliverResumesSuccess p.count").html("简历已成功撤回。"),$.colorbox({inline:!0,href:$("#deliverResumesSuccess"),title:"投个简历",overlayClose:!1}))})}),$("body").on("click","#uploadFile a.btn_s",function(){window.location.reload()}),$("body").on("click","#cboxClose",function(){("deliverResumesSuccess"==$(this).siblings("#cboxLoadedContent").children("div").attr("id")||"uploadFileSuccess"==$(this).siblings("#cboxLoadedContent").children("div").attr("id"))&&(isDeliverSuccess?location.href=GLOBAL_DOMAIN.ctx+"/deliverSuccess/success.html?positionId="+global.positionId:location.reload())}),$("body").on("click","#knowed",function(){isDeliverSuccess?location.href=GLOBAL_DOMAIN.ctx+"/deliverSuccess/success.html?positionId="+global.positionId:location.reload()});var uploadFlag=1;$("body").on("change","#reUploadResume1",function(){file_check(this,GLOBAL_DOMAIN.ctx+"/nearBy/updateMyResume.json","reUploadResume1")}),$("body").on("change","#reUploadResume2",function(){file_check(this,GLOBAL_DOMAIN.ctx+"/nearBy/updateMyResume.json","reUploadResume2")}),$("body").on("change","#resumeUpload",function(){file_check(this,GLOBAL_DOMAIN.ctx+"/nearBy/updateMyResume.json","resumeUpload")}),$("body").on("change","#resumeUpload1",function(){file_check(this,GLOBAL_DOMAIN.ctx+"/nearBy/updateMyResume.json","resumeUpload1")}),$("body").on("change","#resumeUpload2",function(){file_check(this,GLOBAL_DOMAIN.ctx+"/nearBy/updateMyResume.json","resumeUpload2")}),$("#resumeUpload2").change(function(){file_check(this,GLOBAL_DOMAIN.ctx+"/nearBy/updateMyResume.json","resumeUpload2")}),$("body").on("click","a.btn_s",function(){$.colorbox.close(),parent.jQuery.colorbox.close()}),$(".inline").colorbox({inline:!0}),$(".errorTips").click(function(){errorTips("上传附件格式错误!")})});
/*!common/widgets/plat/addIcon.js*/
;define("common/widgets/plat/addIcon",["require","exports","module"],function(require,exports){var a=window.location.protocol+"//activity.lagou.com/activityapi/icon/showIcon.json";exports.loadIconInfo=function(c){var j=$.ajax({url:a,data:c,dataType:"jsonp",jsonp:"callback"});return j}});
/*!job-detail/modules/event/addIcon/main.js*/
;define("job-detail/modules/event/addIcon/main",["require","exports","module","common/widgets/plat/addIcon"],function(require){function a(n){switch(n){case 0:return;case 1:_(1);break;case 2:_(10);break;case 3:_(10);break;case 4:_(10);break;case 5:_(10);break;case 6:_(10);break;case 11:_(11);break;case 12:c(12);break;case 13:_(13);break;case 14:_(14);break;case 15:_(15);break;case 16:_(16);break;case 17:_(17);break;default:return}}function c(a){var c=$('<i class="company_icon_dsz company_icon_dsz_12"></i>');12==a&&$(".job-name .name").append(c.clone())}function _(a){if(13==a){var c=$('<i class="company_icon_dsz company_icon_dsz_13"></i>');$(".job-name .name").append(c.clone())}else if(14==a){var c=$('<i class="company_icon_dsz company_icon_dsz_14"></i>');$(".job-name .name").append(c.clone())}else if(15==a){var c=$('<i class="company_icon_dsz company_icon_dsz_15"></i>');$(".job-name .name").append(c.clone())}else if(16==a){var c=$('<i class="company_icon_dsz company_icon_dsz_16"></i>');$(".job-name .name").append(c.clone())}else if(17==a){var c=$('<i class="company_icon_dsz company_icon_dsz_17"></i>');$(".job-name .name").append(c.clone())}else if(11==a){var c=$('<i class="company_icon_dsz company_icon_dsz_11"></i>');$(".job-name .name").append(c.clone())}else if(1==a){var c=$('<i class="company_icon_dsz company_icon_dsz_1"></i>');$(".job-name .name").append(c.clone())}else if(10==a){{$('<i class="company_icon_dsz company_icon_dsz_10"></i>')}$(".job-name .name").append(c.clone())}}var b=window.global.companyId,y=require("common/widgets/plat/addIcon").loadIconInfo;y({type:"COMPANY",ids:b}).done(function(c){a(c[b])}).fail(function(){})});
/*!common/widgets/chat-pop/main.js*/
;define("common/widgets/chat-pop/main",["require","exports","module","dep/jquery-qrcode/jquery.qrcode.min","dep/artTemplate/dist/template"],function(require){require("dep/jquery-qrcode/jquery.qrcode.min");var a,c=require("dep/artTemplate/dist/template"),h='<!--\n    @require "common/widgets/chat-pop/main.less"\n-->\n<div class="hoverme"></div>\n{{if list.isJD == 0}}\n<div class="chat_pop">\n	<div class="chat_left">\n		<div class="hr_head">\n			{{if list.headimg && list.headimg !=""}}\n			<img src="{{ctx}}/{{list.headimg}}">\n			{{else}}\n			<div class="default">A</div>\n			{{/if}}\n		</div>\n		<ul>\n			{{if list.hrName && list.hrName !=""}}\n			<li class=\'hr_name\'>{{list.hrName}}</li>\n			{{/if}}\n			<!-- <li class=\'hr_level\'>等级</li> -->\n		</ul>\n		{{if list.hrPosition && list.hrPosition!=\'\'}}\n		<div class="hr_position">{{list.hrPosition}}</div>\n		{{/if}}\n		<p>Hi，对我发布的职位感兴趣？用拉勾APP扫码，直接和我聊聊吧！</p>\n	</div>\n	<div class="chat_right">\n		<div class="chatErMa qrcode" data-chat-code="{{list.maId}}"></div>\n	</div>\n	<span class=\'pop-arrow\'></span>\n</div>\n{{else}}\n<div class="chat_pop" id="chat_pop_jd">\n	<div class="chat_left">\n		<p class="jd_pop">对我发布的职位感兴趣？用拉勾APP扫码，直接和我聊聊吧！</p>\n	</div>\n	<div class="chat_right">\n		<div class="chatErMa qrcode" data-chat-code="{{list.maId}}"></div>\n	</div>\n	<span class=\'pop-arrow\'></span>\n</div>\n{{/if}}\n\n\n',v=500;$(document).on("mouseover",".chat_me",function(e){var _=$(this);if(0==$(".chat_pop").length){var g=$(this),b={headimg:_.siblings(".hr_portrait").val(),hrName:_.siblings(".hr_name").val(),hrPosition:_.siblings(".hr_position").val(),maId:_.siblings(".erma_codeu").val(),pId:_.siblings(".erma_codep").val(),isJD:$(".job_detail").length};a=e.timeStamp,setTimeout(function(){if(a-e.timeStamp==0){{g.find($(".chat_pop"))}if(g.append(c.compile(h)({list:b,ctx:GLOBAL_DOMAIN.ctx,lgsctx:GLOBAL_DOMAIN.lgsctx,cdndomain:window.GLOBAL_CDN_DOMAIN})),0==$(".hr_head img").length){var v=g.parents(".default_list").index()%4,A="default"+v;$(".default").addClass(A),$(".default").text(_.siblings(".hr_name").length>0?_.siblings(".hr_name").eq(0).val().substr(0,1):_.siblings(".hr_name").val().substr(0,1))}var P=$('<a href="'+GLOBAL_DOMAIN.ctx+"/scanCode/positionChat.html?positionId="+_.siblings(".erma_codep").val()+"&publishUserId="+_.siblings(".erma_codeu").val()+'"></a>').prop("href");$(".qrcode").qrcode({width:116,height:116,text:P})}$(".chat_pop").length>1&&($(".chat_pop").eq(1).remove(),$(".hoverme").eq(1).remove()),$(".qrcode").children().length>1&&$(".qrcode").children().eq(1).remove()},v)}$(".chat_pop").length>1&&($(".chat_pop").eq(1).remove(),$(".hoverme").eq(1).remove()),$(".qrcode").children().length>1&&$(".qrcode").children().eq(1).remove(),_.trigger("click"),e.preventDefault(),e.stopPropagation()}),$(document).on("mouseover",".hoverme",function(e){$(".chat_pop").show(),e.preventDefault(),e.stopPropagation()}),$(document).on("mouseover",function(e){$(".hoverme").remove(),$(".chat_pop").remove(),e.preventDefault(),e.stopPropagation()}),$(document).on("click",".chat_me",function(){})});
/*!job-detail/page/index/main.js*/
;define("job-detail/page/index/main",["require","exports","module","dep/jquery.cookie/jquery.cookie","dep/jquery-colorbox/jquery.colorbox","dep/jquery-validation/dist/jquery.validate","common/components/validate/additional-methods","common/components/jquery-ajaxfileupload/ajaxfileupload","job-detail/modules/common/js/validate-custom","job-detail/modules/position-head/main","job-detail/modules/job-info/main","job-detail/modules/tips-bottom/main","job-detail/modules/interview-review/main","job-detail/modules/view-again/main","job-detail/modules/job-recommend/main","job-detail/modules/job-company/main","job-detail/modules/popup/main","common/widgets/plat/poster","job-detail/modules/event/addIcon/main","common/widgets/chat-pop/main"],function(require){require("dep/jquery.cookie/jquery.cookie"),require("dep/jquery-colorbox/jquery.colorbox"),require("dep/jquery-validation/dist/jquery.validate"),require("common/components/validate/additional-methods"),require("common/components/jquery-ajaxfileupload/ajaxfileupload"),require("job-detail/modules/common/js/validate-custom"),require("job-detail/modules/position-head/main"),require("job-detail/modules/job-info/main"),require("job-detail/modules/tips-bottom/main"),require("job-detail/modules/interview-review/main"),require("job-detail/modules/view-again/main"),require("job-detail/modules/job-recommend/main"),require("job-detail/modules/job-company/main"),require("job-detail/modules/popup/main"),require("common/widgets/plat/poster"),require("job-detail/modules/event/addIcon/main"),require("common/widgets/chat-pop/main")});